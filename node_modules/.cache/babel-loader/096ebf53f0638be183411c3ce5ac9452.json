{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import React from\"react\";//var firebase = require(\"firebase\");\nvar firebaseui=require(\"firebaseui\");// Initialize Firebase\n//window.firebase.initializeApp(firebaseConfig);\nvar errMessage=\"\";var firebaseWebApiKey=\"AIzaSyAwsbEv9dvu2aDeOf4bpMZ2byvwLUgqIDo\";var firebaseAuthSignupURL=\"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=\"+firebaseWebApiKey;var firebaseAuthSigninURL=\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=\"+firebaseWebApiKey;var firebaseAuthrefreshTokenURL=\"https://securetoken.googleapis.com/v1/token?key=\"+firebaseWebApiKey;var firebaseAuthGetAllUsersURL=\"https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=\"+firebaseWebApiKey;var firebaseAuthChangePasswordURL=\"https://identitytoolkit.googleapis.com/v1/accounts:update?key=\"+firebaseWebApiKey;var firebaseAuthResetPasswordURL=\"https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=\"+firebaseWebApiKey;var firebaseAuthVeifyEmailURL=\"https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=\"+firebaseWebApiKey;var firebaseAuthgetProviderslURL=\"https://identitytoolkit.googleapis.com/v1/accounts:createAuthUri?key=\"+firebaseWebApiKey;export function signinFirebase(_x){return _signinFirebase.apply(this,arguments);}function _signinFirebase(){_signinFirebase=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userDetails){var result,useremail,password,axiosresult;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(userDetails);result={isSuccess:\"false\",message:\"\",dataprops:{}};useremail=userDetails.username;password=userDetails.password;console.log(useremail);console.log(password);_context.next=8;return axios.post(firebaseAuthSigninURL,{email:useremail,password:password,returnSecureToken:true},{headers:{\"Content-Type\":\"application/json\"}}).then(function(response){console.log(response);result={isSuccess:\"true\",message:\"user loggedin\",dataprops:response.data};return result;}).catch(function(error){result={isSuccess:\"false\",message:error.response.data.error.message,dataprops:{}};return result;});case 8:axiosresult=_context.sent;result=axiosresult;console.log(result);return _context.abrupt(\"return\",result);case 12:case\"end\":return _context.stop();}}},_callee);}));return _signinFirebase.apply(this,arguments);}export function refreshTokenFirebase(_x2){return _refreshTokenFirebase.apply(this,arguments);}function _refreshTokenFirebase(){_refreshTokenFirebase=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(userDetails){var result,refreshtoken,axiosresult;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(userDetails);result={isSuccess:\"false\",message:\"\",dataprops:{}};// let useremail = userDetails.username;\n// let password = userDetails.password;\nrefreshtoken=userDetails.refreshtoken;// console.log(useremail);\nconsole.log(refreshtoken);_context2.next=6;return axios.post(firebaseAuthrefreshTokenURL,{grant_type:\"refresh_token\",refresh_token:refreshtoken},{headers:{\"Content-Type\":\"application/json\"}}).then(function(response){console.log(response);result={isSuccess:\"true\",message:\"user loggedin\",dataprops:response.data};return result;}).catch(function(error){result={isSuccess:\"false\",message:error.response.data.error.message,dataprops:{}};return result;});case 6:axiosresult=_context2.sent;result=axiosresult;console.log(result);return _context2.abrupt(\"return\",result);case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _refreshTokenFirebase.apply(this,arguments);}export function signupFirebase(_x3){return _signupFirebase.apply(this,arguments);}function _signupFirebase(){_signupFirebase=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(userDetails){var result,useremail,password,registerfirstname,registerlastname,registerphone,axiosresult;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(userDetails);result={isSuccess:\"false\",message:\"\",dataprops:{}};useremail=userDetails.userState.registeremail;password=userDetails.userState.registerpassword;registerfirstname=userDetails.userState.registerfirstname;registerlastname=userDetails.userState.registerlastname;registerphone=userDetails.userState.registerphone;_context4.next=9;return axios.post(firebaseAuthSignupURL,{email:useremail,password:password,displayName:registerfirstname+\" \"+registerlastname,phoneNumber:registerphone,returnSecureToken:true},{headers:{\"Content-Type\":\"application/json\"}}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(response){var axiosemailresult;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post(firebaseAuthVeifyEmailURL,{requestType:\"VERIFY_EMAIL\",idToken:response.data.idToken},{headers:{\"Content-Type\":\"application/json\"}}).then(function(response){console.log(response);result={isSuccess:\"true\",message:\"Please Signin to Access\",dataprops:response.data};console.log(result);return result;}).catch(function(error){result={isSuccess:\"false\",message:error.response.data.error.message,dataprops:{}};return result;});case 2:axiosemailresult=_context3.sent;return _context3.abrupt(\"return\",axiosemailresult);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x8){return _ref.apply(this,arguments);};}()).catch(function(error){result={isSuccess:\"false\",message:error.response.data.error.message,dataprops:{}};return result;});case 9:axiosresult=_context4.sent;console.log(axiosresult);result=axiosresult;return _context4.abrupt(\"return\",result);case 13:case\"end\":return _context4.stop();}}},_callee4);}));return _signupFirebase.apply(this,arguments);}export function resetPasswordFirebase(_x4){return _resetPasswordFirebase.apply(this,arguments);}function _resetPasswordFirebase(){_resetPasswordFirebase=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(userDetails){var auth,result,useremail,axiosresult;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:auth=window.firebase.auth();result={isSuccess:\"false\",message:\"\",dataprops:{}};useremail=userDetails.userState.forgotemail;console.log(userDetails);axiosresult=auth.sendPasswordResetEmail(useremail).then(function(){result={isSuccess:\"true\",message:\"\",dataprops:{}};return result;}).catch(function(error){alert(JSON.stringify(error));var message=\"\";if(error.message.includes(\"The email address is badly formatted\")){message=\"Invalid Email\";}if(error.message.includes(\"There is no user\")){message=\"No Email found\";}result={isSuccess:\"false\",message:message,dataprops:{}};return result;});// let axiosresult = await axios\n//   .post(\n//     firebaseAuthResetPasswordURL,\n//     {\n//       requestType: \"PASSWORD_RESET\",\n//       email: useremail,\n//     },\n//     {\n//       headers: {\n//         \"Content-Type\": \"application/json\",\n//       },\n//     }\n//   )\n//   .then((response) => {\n//     console.log(response);\n//     result = {\n//       isSuccess: \"true\",\n//       message: \"reset email sent\",\n//       dataprops: response.data,\n//     };\n//     return result;\n//   })\n//   .catch((error) => {\n//     console.log(error.response);\n//     result = {\n//       isSuccess: \"false\",\n//       message: error.response.data.error.message,\n//       dataprops: {},\n//     };\n//     return result;\n//   });\n// result = axiosresult;\n// console.log(result);\nreturn _context5.abrupt(\"return\",axiosresult);case 6:case\"end\":return _context5.stop();}}},_callee5);}));return _resetPasswordFirebase.apply(this,arguments);}export function forgetPasswordFirebase(){var result={};return result;}export function isUserAlreadyExistsFirebase(){var result={};return result;}export function changePasswordFirebase(userDetails){var result={isSuccess:\"false\",message:\"\",dataprops:{}};var useremail=userDetails.username;var password=userDetails.password;var idToken=userDetails.idToken;axios.post(firebaseAuthChangePasswordURL,{idToken:idToken,password:password,returnSecureToken:true},{headers:{\"Content-Type\":\"application/json\"}}).then(function(response){console.log(response);result={isSuccess:\"true\",message:\"password changed\",dataprops:response.data};//  this.getUserData();\n}).catch(function(error){console.log(error.response);result={isSuccess:\"false\",message:error.response.data.error.message,dataprops:{}};});}export function signInwithGoogleFirebase(_x5){return _signInwithGoogleFirebase.apply(this,arguments);}function _signInwithGoogleFirebase(){_signInwithGoogleFirebase=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(userDetails){var result,provider,axiosresult;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:result={isSuccess:\"false\",message:\"\",dataprops:{}};// let useremail = userDetails.username;\n// let password = userDetails.password;\n// let idToken = userDetails.idToken;\nprovider=new window.firebase.auth.GoogleAuthProvider();provider.addScope(\"profile\");provider.addScope(\"email\");_context6.next=6;return window.firebase.auth().signInWithPopup(provider).then(function(result){// This gives you a Google Access Token.\nconsole.log(result);var token=result.credential.accessToken;// The signed-in user info.\n// The signed-in user info.\nvar user=result.user;console.log(JSON.stringify(user));console.log(user.email);console.log(token);console.log(user.refreshToken);result={isSuccess:\"true\",message:\"user loggedin\",dataprops:{email:user.email,expiresIn:3600,idToken:token,refreshToken:user.refreshToken,emailVerified:user.emailVerified}};return result;// axios\n//   .post(\n//     firebaseAuthgetProviderslURL,\n//     {\n//       identifier: user.email,\n//       continueUri: \"http://localhost:3000/\",\n//     },\n//     {\n//       headers: {\n//         \"Content-Type\": \"application/json\",\n//       },\n//     }\n//   )\n//   .then((response) => {\n//     console.log(response);\n//\n//   })\n//   .catch((error) => {\n//     console.log(error.response);\n//     result = {\n//       isSuccess: \"false\",\n//       message: error.response.data.error.message,\n//       dataprops: {},\n//     };\n//   });\n});case 6:axiosresult=_context6.sent;console.log(axiosresult);return _context6.abrupt(\"return\",axiosresult);case 9:case\"end\":return _context6.stop();}}},_callee6);}));return _signInwithGoogleFirebase.apply(this,arguments);}export function signInwithFacebookFirebase(userDetails){var result={isSuccess:\"false\",message:\"\",dataprops:{}};// let useremail = userDetails.username;\n// let password = userDetails.password;\n// let idToken = userDetails.idToken;\nvar provider=new window.firebase.auth.FacebookAuthProvider();//provider.addScope(\"profile\");\n//provider.addScope(\"email\");\nprovider.addScope(\"user_birthday\");// firebase.auth().languageCode = \"fr_FR\";\nprovider.setCustomParameters({display:\"popup\"});window.firebase.auth().signInWithPopup(provider).then(function(result){// This gives you a Facebook Access Token. You can use it to access the Facebook API.\nvar token=result.credential.accessToken;// The signed-in user info.\nvar user=result.user;// ...\n}).catch(function(error){// Handle Errors here.\nvar errorCode=error.code;var errorMessage=error.message;// The email of the user's account used.\nvar email=error.email;// The firebase.auth.AuthCredential type that was used.\nvar credential=error.credential;// ...\n});}export function isAuthenticatedUserFirebase(_x6){return _isAuthenticatedUserFirebase.apply(this,arguments);}function _isAuthenticatedUserFirebase(){_isAuthenticatedUserFirebase=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(userDetails){var result,userIdtoken,axiosresult;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:result={};_context7.next=3;return sessionStorage.getItem(\"orgidToken\");case 3:userIdtoken=_context7.sent;_context7.prev=4;_context7.next=7;return axios.post(firebaseAuthGetAllUsersURL,{idToken:userIdtoken}).then(function(response){console.log(response.data.users[0]);//this.setState({ userData: response.data.users[0] });\n//this.setState({ userData: response.data.users[0] });\nif(!response.data.users[0].emailVerified){result={isSuccess:\"false\",message:\"please click on verification link in email to proceed\",dataprops:{}};return result;}else{result={isSuccess:\"true\",message:\"\",dataprops:{}};return result;}}).catch(function(e){console.error(e);result={isSuccess:\"false\",message:JSON.stringify(e),dataprops:{}};return result;});case 7:axiosresult=_context7.sent;result=axiosresult;_context7.next=14;break;case 11:_context7.prev=11;_context7.t0=_context7[\"catch\"](4);result={isSuccess:\"false\",message:JSON.stringify(_context7.t0),dataprops:{}};case 14:return _context7.abrupt(\"return\",result);case 15:case\"end\":return _context7.stop();}}},_callee7,null,[[4,11]]);}));return _isAuthenticatedUserFirebase.apply(this,arguments);}export function getUserProfileFirebase(_x7){return _getUserProfileFirebase.apply(this,arguments);}function _getUserProfileFirebase(){_getUserProfileFirebase=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(userDetails){var user,result;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:user=new window.firebase.auth().currentUser;console.log(JSON.stringify(user));result={isSuccess:\"true\",message:\"\",dataprops:{name:user.displayName,phone:user.phoneNumber}};// let userIdtoken = await sessionStorage.getItem(\"orgidToken\");\n// if (!userIdtoken) {\n//   userIdtoken = userDetails.idToken;\n// }\n// alert(userIdtoken);\n// try {\n//   axios\n//     .post(firebaseAuthGetAllUsersURL, {\n//       idToken: userIdtoken,\n//     })\n//     .then((response) => {\n//       console.log(response.data.users[0]);\n//       //this.setState({ userData: response.data.users[0] });\n//       if (!response.data.users[0].emailVerified) {\n//         result = {\n//           isSuccess: \"false\",\n//           message: \"please click on verification link in email to proceed\",\n//           dataprops: {},\n//         };\n//       } else {\n//         result = {\n//           isSuccess: \"true\",\n//           message: \"\",\n//           dataprops: {},\n//         };\n//       }\n//     })\n//     .catch((e) => {\n//       console.error(e);\n//       result = {\n//         isSuccess: \"false\",\n//         message: JSON.stringify(e),\n//         dataprops: {},\n//       };\n//     });\n// } catch (err) {\n//   result = {\n//     isSuccess: \"false\",\n//     message: JSON.stringify(err),\n//     dataprops: {},\n//   };\n// }\nconsole.log(result);return _context8.abrupt(\"return\",result);case 5:case\"end\":return _context8.stop();}}},_callee8);}));return _getUserProfileFirebase.apply(this,arguments);}","map":{"version":3,"sources":["/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/src/auth/firebase.js"],"names":["axios","React","firebaseui","require","errMessage","firebaseWebApiKey","firebaseAuthSignupURL","firebaseAuthSigninURL","firebaseAuthrefreshTokenURL","firebaseAuthGetAllUsersURL","firebaseAuthChangePasswordURL","firebaseAuthResetPasswordURL","firebaseAuthVeifyEmailURL","firebaseAuthgetProviderslURL","signinFirebase","userDetails","console","log","result","isSuccess","message","dataprops","useremail","username","password","post","email","returnSecureToken","headers","then","response","data","catch","error","axiosresult","refreshTokenFirebase","refreshtoken","grant_type","refresh_token","signupFirebase","userState","registeremail","registerpassword","registerfirstname","registerlastname","registerphone","displayName","phoneNumber","requestType","idToken","axiosemailresult","resetPasswordFirebase","auth","window","firebase","forgotemail","sendPasswordResetEmail","alert","JSON","stringify","includes","forgetPasswordFirebase","isUserAlreadyExistsFirebase","changePasswordFirebase","signInwithGoogleFirebase","provider","GoogleAuthProvider","addScope","signInWithPopup","token","credential","accessToken","user","refreshToken","expiresIn","emailVerified","signInwithFacebookFirebase","FacebookAuthProvider","setCustomParameters","display","errorCode","code","errorMessage","isAuthenticatedUserFirebase","sessionStorage","getItem","userIdtoken","users","e","getUserProfileFirebase","currentUser","name","phone"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\n\n//var firebase = require(\"firebase\");\nvar firebaseui = require(\"firebaseui\");\n\n// Initialize Firebase\n//window.firebase.initializeApp(firebaseConfig);\n\nlet errMessage = \"\";\nlet firebaseWebApiKey = \"AIzaSyAwsbEv9dvu2aDeOf4bpMZ2byvwLUgqIDo\";\nlet firebaseAuthSignupURL =\n  \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=\" +\n  firebaseWebApiKey;\nlet firebaseAuthSigninURL =\n  \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=\" +\n  firebaseWebApiKey;\nlet firebaseAuthrefreshTokenURL =\n  \"https://securetoken.googleapis.com/v1/token?key=\" + firebaseWebApiKey;\nlet firebaseAuthGetAllUsersURL =\n  \"https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=\" +\n  firebaseWebApiKey;\nlet firebaseAuthChangePasswordURL =\n  \"https://identitytoolkit.googleapis.com/v1/accounts:update?key=\" +\n  firebaseWebApiKey;\nlet firebaseAuthResetPasswordURL =\n  \"https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=\" +\n  firebaseWebApiKey;\nlet firebaseAuthVeifyEmailURL =\n  \"https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=\" +\n  firebaseWebApiKey;\nlet firebaseAuthgetProviderslURL =\n  \"https://identitytoolkit.googleapis.com/v1/accounts:createAuthUri?key=\" +\n  firebaseWebApiKey;\n\nexport async function signinFirebase(userDetails) {\n  console.log(userDetails);\n  let result = { isSuccess: \"false\", message: \"\", dataprops: {} };\n\n  let useremail = userDetails.username;\n  let password = userDetails.password;\n  console.log(useremail);\n  console.log(password);\n\n  let axiosresult = await axios\n    .post(\n      firebaseAuthSigninURL,\n      {\n        email: useremail,\n        password: password,\n        returnSecureToken: true,\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      console.log(response);\n      result = {\n        isSuccess: \"true\",\n        message: \"user loggedin\",\n        dataprops: response.data,\n      };\n      return result;\n    })\n    .catch((error) => {\n      result = {\n        isSuccess: \"false\",\n        message: error.response.data.error.message,\n        dataprops: {},\n      };\n      return result;\n    });\n  result = axiosresult;\n  console.log(result);\n\n  return result;\n}\n\nexport async function refreshTokenFirebase(userDetails) {\n  console.log(userDetails);\n  let result = { isSuccess: \"false\", message: \"\", dataprops: {} };\n\n  // let useremail = userDetails.username;\n  // let password = userDetails.password;\n  let refreshtoken = userDetails.refreshtoken;\n  // console.log(useremail);\n  console.log(refreshtoken);\n\n  let axiosresult = await axios\n    .post(\n      firebaseAuthrefreshTokenURL,\n      {\n        grant_type: \"refresh_token\",\n        refresh_token: refreshtoken,\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      console.log(response);\n      result = {\n        isSuccess: \"true\",\n        message: \"user loggedin\",\n        dataprops: response.data,\n      };\n      return result;\n    })\n    .catch((error) => {\n      result = {\n        isSuccess: \"false\",\n        message: error.response.data.error.message,\n        dataprops: {},\n      };\n      return result;\n    });\n  result = axiosresult;\n  console.log(result);\n\n  return result;\n}\n\nexport async function signupFirebase(userDetails) {\n  console.log(userDetails);\n  let result = { isSuccess: \"false\", message: \"\", dataprops: {} };\n\n  let useremail = userDetails.userState.registeremail;\n  let password = userDetails.userState.registerpassword;\n  let registerfirstname = userDetails.userState.registerfirstname;\n  let registerlastname = userDetails.userState.registerlastname;\n  let registerphone = userDetails.userState.registerphone;\n\n  let axiosresult = await axios\n    .post(\n      firebaseAuthSignupURL,\n      {\n        email: useremail,\n        password: password,\n        displayName: registerfirstname + \" \" + registerlastname,\n        phoneNumber: registerphone,\n        returnSecureToken: true,\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then(async (response) => {\n      let axiosemailresult = await axios\n        .post(\n          firebaseAuthVeifyEmailURL,\n          {\n            requestType: \"VERIFY_EMAIL\",\n            idToken: response.data.idToken,\n          },\n          {\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        )\n        .then((response) => {\n          console.log(response);\n          result = {\n            isSuccess: \"true\",\n            message: \"Please Signin to Access\",\n            dataprops: response.data,\n          };\n          console.log(result);\n          return result;\n        })\n        .catch((error) => {\n          result = {\n            isSuccess: \"false\",\n            message: error.response.data.error.message,\n            dataprops: {},\n          };\n          return result;\n        });\n      return axiosemailresult;\n    })\n    .catch((error) => {\n      result = {\n        isSuccess: \"false\",\n        message: error.response.data.error.message,\n        dataprops: {},\n      };\n      return result;\n    });\n  console.log(axiosresult);\n  result = axiosresult;\n\n  return result;\n}\n\nexport async function resetPasswordFirebase(userDetails) {\n  var auth = window.firebase.auth();\n\n  let result = { isSuccess: \"false\", message: \"\", dataprops: {} };\n\n  let useremail = userDetails.userState.forgotemail;\n  console.log(userDetails);\n\n  let axiosresult = auth\n    .sendPasswordResetEmail(useremail)\n    .then(function () {\n      result = { isSuccess: \"true\", message: \"\", dataprops: {} };\n      return result;\n    })\n    .catch(function (error) {\n      alert(JSON.stringify(error));\n      let message = \"\";\n      if (error.message.includes(\"The email address is badly formatted\")) {\n        message = \"Invalid Email\";\n      }\n      if (error.message.includes(\"There is no user\")) {\n        message = \"No Email found\";\n      }\n      result = {\n        isSuccess: \"false\",\n        message: message,\n        dataprops: {},\n      };\n      return result;\n    });\n\n  // let axiosresult = await axios\n  //   .post(\n  //     firebaseAuthResetPasswordURL,\n  //     {\n  //       requestType: \"PASSWORD_RESET\",\n  //       email: useremail,\n  //     },\n  //     {\n  //       headers: {\n  //         \"Content-Type\": \"application/json\",\n  //       },\n  //     }\n  //   )\n  //   .then((response) => {\n  //     console.log(response);\n  //     result = {\n  //       isSuccess: \"true\",\n  //       message: \"reset email sent\",\n  //       dataprops: response.data,\n  //     };\n  //     return result;\n  //   })\n  //   .catch((error) => {\n  //     console.log(error.response);\n  //     result = {\n  //       isSuccess: \"false\",\n  //       message: error.response.data.error.message,\n  //       dataprops: {},\n  //     };\n  //     return result;\n  //   });\n  // result = axiosresult;\n  // console.log(result);\n  return axiosresult;\n}\n\nexport function forgetPasswordFirebase() {\n  let result = {};\n  return result;\n}\n\nexport function isUserAlreadyExistsFirebase() {\n  let result = {};\n  return result;\n}\n\nexport function changePasswordFirebase(userDetails) {\n  let result = { isSuccess: \"false\", message: \"\", dataprops: {} };\n\n  let useremail = userDetails.username;\n  let password = userDetails.password;\n  let idToken = userDetails.idToken;\n\n  axios\n    .post(\n      firebaseAuthChangePasswordURL,\n      {\n        idToken: idToken,\n        password: password,\n        returnSecureToken: true,\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    )\n    .then((response) => {\n      console.log(response);\n      result = {\n        isSuccess: \"true\",\n        message: \"password changed\",\n        dataprops: response.data,\n      };\n      //  this.getUserData();\n    })\n    .catch((error) => {\n      console.log(error.response);\n      result = {\n        isSuccess: \"false\",\n        message: error.response.data.error.message,\n        dataprops: {},\n      };\n    });\n}\n\nexport async function signInwithGoogleFirebase(userDetails) {\n  let result = { isSuccess: \"false\", message: \"\", dataprops: {} };\n\n  // let useremail = userDetails.username;\n  // let password = userDetails.password;\n  // let idToken = userDetails.idToken;\n\n  var provider = new window.firebase.auth.GoogleAuthProvider();\n  provider.addScope(\"profile\");\n  provider.addScope(\"email\");\n  let axiosresult = await window.firebase\n    .auth()\n    .signInWithPopup(provider)\n    .then((result) => {\n      // This gives you a Google Access Token.\n      console.log(result);\n      var token = result.credential.accessToken;\n      // The signed-in user info.\n      var user = result.user;\n      console.log(JSON.stringify(user));\n      console.log(user.email);\n      console.log(token);\n      console.log(user.refreshToken);\n      result = {\n        isSuccess: \"true\",\n        message: \"user loggedin\",\n        dataprops: {\n          email: user.email,\n          expiresIn: 3600,\n          idToken: token,\n          refreshToken: user.refreshToken,\n          emailVerified: user.emailVerified,\n        },\n      };\n      return result;\n      // axios\n      //   .post(\n      //     firebaseAuthgetProviderslURL,\n      //     {\n      //       identifier: user.email,\n      //       continueUri: \"http://localhost:3000/\",\n      //     },\n      //     {\n      //       headers: {\n      //         \"Content-Type\": \"application/json\",\n      //       },\n      //     }\n      //   )\n      //   .then((response) => {\n      //     console.log(response);\n\n      //\n      //   })\n      //   .catch((error) => {\n      //     console.log(error.response);\n      //     result = {\n      //       isSuccess: \"false\",\n      //       message: error.response.data.error.message,\n      //       dataprops: {},\n      //     };\n      //   });\n    });\n\n  console.log(axiosresult);\n  return axiosresult;\n}\nexport function signInwithFacebookFirebase(userDetails) {\n  let result = { isSuccess: \"false\", message: \"\", dataprops: {} };\n\n  // let useremail = userDetails.username;\n  // let password = userDetails.password;\n  // let idToken = userDetails.idToken;\n\n  var provider = new window.firebase.auth.FacebookAuthProvider();\n  //provider.addScope(\"profile\");\n  //provider.addScope(\"email\");\n  provider.addScope(\"user_birthday\");\n  // firebase.auth().languageCode = \"fr_FR\";\n  provider.setCustomParameters({\n    display: \"popup\",\n  });\n  window.firebase\n    .auth()\n    .signInWithPopup(provider)\n    .then(function (result) {\n      // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n      var token = result.credential.accessToken;\n      // The signed-in user info.\n      var user = result.user;\n      // ...\n    })\n    .catch(function (error) {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // The email of the user's account used.\n      var email = error.email;\n      // The firebase.auth.AuthCredential type that was used.\n      var credential = error.credential;\n      // ...\n    });\n}\n\nexport async function isAuthenticatedUserFirebase(userDetails) {\n  let result = {};\n  let userIdtoken = await sessionStorage.getItem(\"orgidToken\");\n  try {\n    let axiosresult = await axios\n      .post(firebaseAuthGetAllUsersURL, {\n        idToken: userIdtoken,\n      })\n      .then((response) => {\n        console.log(response.data.users[0]);\n        //this.setState({ userData: response.data.users[0] });\n        if (!response.data.users[0].emailVerified) {\n          result = {\n            isSuccess: \"false\",\n            message: \"please click on verification link in email to proceed\",\n            dataprops: {},\n          };\n          return result;\n        } else {\n          result = {\n            isSuccess: \"true\",\n            message: \"\",\n            dataprops: {},\n          };\n          return result;\n        }\n      })\n      .catch((e) => {\n        console.error(e);\n        result = {\n          isSuccess: \"false\",\n          message: JSON.stringify(e),\n          dataprops: {},\n        };\n        return result;\n      });\n    result = axiosresult;\n  } catch (err) {\n    result = {\n      isSuccess: \"false\",\n      message: JSON.stringify(err),\n      dataprops: {},\n    };\n  }\n\n  return result;\n}\nexport async function getUserProfileFirebase(userDetails) {\n  var user = new window.firebase.auth().currentUser;\n\n  console.log(JSON.stringify(user));\n\n  let result = {\n    isSuccess: \"true\",\n    message: \"\",\n    dataprops: { name: user.displayName, phone: user.phoneNumber },\n  };\n\n  // let userIdtoken = await sessionStorage.getItem(\"orgidToken\");\n  // if (!userIdtoken) {\n  //   userIdtoken = userDetails.idToken;\n  // }\n  // alert(userIdtoken);\n  // try {\n  //   axios\n  //     .post(firebaseAuthGetAllUsersURL, {\n  //       idToken: userIdtoken,\n  //     })\n  //     .then((response) => {\n  //       console.log(response.data.users[0]);\n  //       //this.setState({ userData: response.data.users[0] });\n  //       if (!response.data.users[0].emailVerified) {\n  //         result = {\n  //           isSuccess: \"false\",\n  //           message: \"please click on verification link in email to proceed\",\n  //           dataprops: {},\n  //         };\n  //       } else {\n  //         result = {\n  //           isSuccess: \"true\",\n  //           message: \"\",\n  //           dataprops: {},\n  //         };\n  //       }\n  //     })\n  //     .catch((e) => {\n  //       console.error(e);\n  //       result = {\n  //         isSuccess: \"false\",\n  //         message: JSON.stringify(e),\n  //         dataprops: {},\n  //       };\n  //     });\n  // } catch (err) {\n  //   result = {\n  //     isSuccess: \"false\",\n  //     message: JSON.stringify(err),\n  //     dataprops: {},\n  //   };\n  // }\n  console.log(result);\n  return result;\n}\n"]},"metadata":{},"sourceType":"module"}