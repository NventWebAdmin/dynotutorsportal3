{"ast":null,"code":"import React,{Component}from\"react\";var fs=require(\"fs\");function encode(data){console.log(data);var buf=Buffer.from(data);console.log(buf);var base64=buf.toString(\"base64\");console.log(base64);var buff=new Buffer(base64,\"base64\");console.log(buff);var x=Buffer.compare(buf,buff);console.log(x);return base64;}export var getImagefromData=function getImagefromData(databody,dataprops){var mimes={jpeg:\"data:image/jpeg;base64,\"};var url=mimes.jpeg+encode(databody);return url;// return (\n//   <>\n//     <img\n//       src={url}\n//       width=\"100%\"\n//       height=\"100%\"\n//       style={{ objectFit: \"cover\" }}\n//       // onClick={this.dataprops.onClick}\n//       // data-name={this.dataprops.name}\n//     />\n//   </>\n// );\n};export var getVideofromData=function getVideofromData(databody,dataprops){console.log(databody);var mimes={jpeg:\"data:image/jpeg;base64,\"};var url=mimes.jpeg+encode(databody);return url;// return (\n//   <>\n//     <img\n//       src={url}\n//       width=\"100%\"\n//       height=\"100%\"\n//       style={{ objectFit: \"cover\" }}\n//       // onClick={this.dataprops.onClick}\n//       // data-name={this.dataprops.name}\n//     />\n//   </>\n// );\n};export var getPDFfromData=function getPDFfromData(databody,dataprops){//  var canvaselement = document.createElement(\"canvas\");\nvar canvaselement=document.getElementById(\"theCanvas2\");// var b64 = \"\";\n// b64 = encode(data.Body);\n// Decode Base64 to binary and show some information about the PDF file (note that I skipped all checks)\n// var bin = atob(b64);\n// console.log(\"PDF Version:\", bin.match(/^.PDF-([0-9.]+)/)[1]);\n// console.log(\n//   \"Create Date:\",\n//   bin.match(/<xmp:CreateDate>(.+?)<\\/xmp:CreateDate>/)[1]\n// );\n// console.log(\n//   \"Modify Date:\",\n//   bin.match(/<xmp:ModifyDate>(.+?)<\\/xmp:ModifyDate>/)[1]\n// );\n// console.log(\n//   \"Creator Tool:\",\n//   bin.match(/<xmp:CreatorTool>(.+?)<\\/xmp:CreatorTool>/)[1]\n// );\n// var obj = document.createElement(\"object\");\n// obj.style.width = \"100%\";\n// obj.style.height = \"80vh\";\n// obj.type = \"application/pdf\";\n// obj.data = \"data:application/pdf;base64,\" + b64;\n// document.body.appendChild(obj);\n// var link = document.createElement(\"a\");\n// link.innerHTML = \"Download PDF file\";\n// link.download = \"file.pdf\";\n// link.href = \"data:application/octet-stream;base64,\" + b64;\n// document.body.appendChild(link);\n// var mimes = {\n//   jpeg: \"data:image/jpeg;base64,\",\n// };\nvar pdfData=atob(encode(databody));// Loaded via <script> tag, create shortcut to access PDF.js exports.\nvar pdfjsLib=window[\"pdfjs-dist/build/pdf\"];// The workerSrc property shall be specified.\npdfjsLib.GlobalWorkerOptions.workerSrc=\"//mozilla.github.io/pdf.js/build/pdf.worker.js\";var loadingTask=pdfjsLib.getDocument({data:pdfData});loadingTask.promise.then(function(pdf){var pageNumber=dataprops.pdfpageNumber;pdf.getPage(pageNumber).then(function(page){console.log(\"Page loaded\");var scale=1.5;var viewport=page.getViewport({scale:scale});var canvas=document.getElementById(dataprops.htmlId);var context=canvas.getContext(\"2d\");canvas.height=viewport.height;canvas.width=viewport.width;var renderContext={canvasContext:context,viewport:viewport};var renderTask=page.render(renderContext);renderTask.promise.then(function(){console.log(\"Page rendered\");});});},function(reason){console.error(reason);});return canvaselement;};","map":{"version":3,"sources":["/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/src/js/getMultiMediafromData.js"],"names":["React","Component","fs","require","encode","data","console","log","buf","Buffer","from","base64","toString","buff","x","compare","getImagefromData","databody","dataprops","mimes","jpeg","url","getVideofromData","getPDFfromData","canvaselement","document","getElementById","pdfData","atob","pdfjsLib","window","GlobalWorkerOptions","workerSrc","loadingTask","getDocument","promise","then","pdf","pageNumber","pdfpageNumber","getPage","page","scale","viewport","getViewport","canvas","htmlId","context","getContext","height","width","renderContext","canvasContext","renderTask","render","reason","error"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nconst fs = require(\"fs\");\n\nfunction encode(data) {\n  console.log(data);\n  let buf = Buffer.from(data);\n  console.log(buf);\n  let base64 = buf.toString(\"base64\");\n  console.log(base64);\n\n  let buff = new Buffer(base64, \"base64\");\n  console.log(buff);\n\n  var x = Buffer.compare(buf, buff);\n  console.log(x);\n\n  return base64;\n}\n\nexport let getImagefromData = (databody, dataprops) => {\n  var mimes = {\n    jpeg: \"data:image/jpeg;base64,\",\n  };\n  let url = mimes.jpeg + encode(databody);\n  return url;\n  // return (\n  //   <>\n  //     <img\n  //       src={url}\n  //       width=\"100%\"\n  //       height=\"100%\"\n  //       style={{ objectFit: \"cover\" }}\n  //       // onClick={this.dataprops.onClick}\n  //       // data-name={this.dataprops.name}\n  //     />\n  //   </>\n  // );\n};\n\nexport let getVideofromData = (databody, dataprops) => {\n  console.log(databody);\n  var mimes = {\n    jpeg: \"data:image/jpeg;base64,\",\n  };\n  let url = mimes.jpeg + encode(databody);\n  return url;\n  // return (\n  //   <>\n  //     <img\n  //       src={url}\n  //       width=\"100%\"\n  //       height=\"100%\"\n  //       style={{ objectFit: \"cover\" }}\n  //       // onClick={this.dataprops.onClick}\n  //       // data-name={this.dataprops.name}\n  //     />\n  //   </>\n  // );\n};\n\nexport let getPDFfromData = (databody, dataprops) => {\n  //  var canvaselement = document.createElement(\"canvas\");\n  var canvaselement = document.getElementById(\"theCanvas2\");\n\n  // var b64 = \"\";\n\n  // b64 = encode(data.Body);\n\n  // Decode Base64 to binary and show some information about the PDF file (note that I skipped all checks)\n  // var bin = atob(b64);\n\n  // console.log(\"PDF Version:\", bin.match(/^.PDF-([0-9.]+)/)[1]);\n  // console.log(\n  //   \"Create Date:\",\n  //   bin.match(/<xmp:CreateDate>(.+?)<\\/xmp:CreateDate>/)[1]\n  // );\n  // console.log(\n  //   \"Modify Date:\",\n  //   bin.match(/<xmp:ModifyDate>(.+?)<\\/xmp:ModifyDate>/)[1]\n  // );\n  // console.log(\n  //   \"Creator Tool:\",\n  //   bin.match(/<xmp:CreatorTool>(.+?)<\\/xmp:CreatorTool>/)[1]\n  // );\n\n  // var obj = document.createElement(\"object\");\n  // obj.style.width = \"100%\";\n  // obj.style.height = \"80vh\";\n  // obj.type = \"application/pdf\";\n  // obj.data = \"data:application/pdf;base64,\" + b64;\n  // document.body.appendChild(obj);\n\n  // var link = document.createElement(\"a\");\n  // link.innerHTML = \"Download PDF file\";\n  // link.download = \"file.pdf\";\n  // link.href = \"data:application/octet-stream;base64,\" + b64;\n  // document.body.appendChild(link);\n  // var mimes = {\n  //   jpeg: \"data:image/jpeg;base64,\",\n  // };\n\n  var pdfData = atob(encode(databody));\n  // Loaded via <script> tag, create shortcut to access PDF.js exports.\n  var pdfjsLib = window[\"pdfjs-dist/build/pdf\"];\n  // The workerSrc property shall be specified.\n  pdfjsLib.GlobalWorkerOptions.workerSrc =\n    \"//mozilla.github.io/pdf.js/build/pdf.worker.js\";\n  var loadingTask = pdfjsLib.getDocument({ data: pdfData });\n  loadingTask.promise.then(\n    function (pdf) {\n      var pageNumber = dataprops.pdfpageNumber;\n      pdf.getPage(pageNumber).then(function (page) {\n        console.log(\"Page loaded\");\n        var scale = 1.5;\n        var viewport = page.getViewport({ scale: scale });\n        var canvas = document.getElementById(dataprops.htmlId);\n        var context = canvas.getContext(\"2d\");\n        canvas.height = viewport.height;\n        canvas.width = viewport.width;\n        var renderContext = {\n          canvasContext: context,\n          viewport: viewport,\n        };\n        var renderTask = page.render(renderContext);\n        renderTask.promise.then(function () {\n          console.log(\"Page rendered\");\n        });\n      });\n    },\n    function (reason) {\n      console.error(reason);\n    }\n  );\n  return canvaselement;\n};\n"]},"metadata":{},"sourceType":"module"}