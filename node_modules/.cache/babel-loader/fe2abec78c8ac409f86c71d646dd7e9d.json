{"ast":null,"code":"var _jsxFileName = \"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/src/components/listtable.js\";\nimport React, { Component } from \"react\";\nimport { sortArray, fieldTypeHtmltoDBmapping } from \"../js/index\";\nimport Htmlform from \"./htmlformnew\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass F extends Component {\n  constructor(props) {\n    super(props);\n\n    this.tableActionBtnClick = e => {\n      console.log(e.target.dataset);\n      let itemListData = [];\n      let {\n        recordDataTemp\n      } = this.state;\n\n      if (e.target.dataset.name == \"upload\" || e.target.dataset.name == \"download\") {\n        let tableCheckBoxElements = document.querySelectorAll(\".tablecompinputcheckbox\");\n        console.log(tableCheckBoxElements);\n\n        for (let i = 0; i < tableCheckBoxElements.length; i++) {\n          for (let j = 0; j < recordDataTemp.length; j++) {\n            if (tableCheckBoxElements[i].dataset.rowhtmlid1 == recordDataTemp[j][this.props.rowhtmlid1] && tableCheckBoxElements[i].checked) {\n              itemListData.push(recordDataTemp[j]);\n            }\n          }\n        }\n\n        console.log(itemListData);\n\n        if (e.target.dataset.name == \"upload\") {\n          this.props.tableOnclick({\n            itemLabel: \"\",\n            itemName: e.target.dataset.name,\n            itemType: \"tablebutton\",\n            itemData: \"\",\n            itemListData: itemListData\n          });\n        }\n\n        if (e.target.dataset.name == \"download\") {\n          this.setState({\n            downloadTableasCSV: true\n          });\n        }\n      } else {\n        this.props.tableOnclick({\n          itemLabel: \"\",\n          itemName: e.target.dataset.name,\n          itemType: e.target.dataset.actiontype,\n          itemId: e.target.dataset.actionid,\n          actionid: e.target.dataset.actionid,\n          itemData: \"\",\n          itemListData: itemListData\n        });\n      }\n    };\n\n    this.state = {\n      mainpanelHtml: [],\n      recordData: [],\n      recordDataTemp: [],\n      selectedrecordData: [],\n      updaterecorddatafromstate: [],\n      morerecorddatafromstate: []\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.recordData) {\n      let totalRows = this.props.recordData.length;\n      this.setState({\n        totalRows: totalRows,\n        recordData: this.props.recordData,\n        recordDataTemp: this.props.recordData,\n        selectedColumn: \"\"\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(this.props.morerecorddata);\n    let {\n      recordData,\n      recordDataTemp,\n      updaterecorddatafromstate,\n      morerecorddatafromstate\n    } = this.state;\n    let {\n      morerecorddata,\n      updaterecorddata\n    } = this.props;\n    let {\n      prevmorerecorddata,\n      prevupdaterecorddata\n    } = prevProps;\n\n    if (JSON.stringify(morerecorddatafromstate) != JSON.stringify(morerecorddata)) {\n      for (let i in morerecorddata) {\n        recordDataTemp.push(morerecorddata[i]);\n      }\n\n      this.setState({\n        recordDataTemp: recordDataTemp,\n        recordData: recordData,\n        morerecorddatafromstate: morerecorddata\n      });\n    }\n\n    if (JSON.stringify(updaterecorddatafromstate) != JSON.stringify(updaterecorddata)) {\n      for (let i in recordDataTemp) {\n        for (let j in updaterecorddata) {\n          if (recordDataTemp[i].id == updaterecorddata[j].id) {\n            recordDataTemp[i] = Object.assign(recordDataTemp[i], updaterecorddata[j]);\n          }\n        }\n\n        for (let i in recordData) {\n          for (let j in updaterecorddata) {\n            if (recordData[i].id == updaterecorddata[j].id) {\n              recordData[i] = Object.assign(recordData[i], updaterecorddata[j]);\n            }\n          }\n        }\n\n        this.setState({\n          recordDataTemp: recordDataTemp,\n          recordData: recordData,\n          updaterecorddatafromstate: updaterecorddata\n        });\n      }\n    }\n  }\n\n  updateComponentData() {}\n\n  render() {\n    let {\n      columnMetadata,\n      activeTableviewName,\n      listrecordcompsperrow\n    } = this.props;\n    let {\n      recordData\n    } = this.state;\n    let mainpanelHtml = [];\n    let activeColumnMetadata = columnMetadata[activeTableviewName];\n    console.log(activeColumnMetadata); // buttons\n\n    let activeButtons = activeColumnMetadata.buttons;\n    let buttonsArray = [];\n    let buttonsArraySorted = [];\n    let buttonsArrayHtml = [];\n\n    for (let i in activeButtons) {\n      buttonsArray.push(activeButtons[i]);\n    }\n\n    buttonsArraySorted = sortArray(buttonsArray, \"order\", \"integer\");\n\n    for (let i in buttonsArraySorted) {\n      buttonsArrayHtml.push( /*#__PURE__*/_jsxDEV(\"button\", {\n        children: buttonsArraySorted[i].label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 29\n      }, this));\n    }\n\n    mainpanelHtml.push(buttonsArrayHtml); // dropdown\n\n    let dropdownOptionsHtml = [];\n    let dropdownArray = [];\n    let dropdownArraySorted = [];\n\n    for (let i in columnMetadata) {\n      dropdownArray.push(columnMetadata[i]);\n    }\n\n    dropdownArraySorted = sortArray(dropdownArray, \"order\", \"integer\");\n\n    for (let i in dropdownArraySorted) {\n      dropdownOptionsHtml.push( /*#__PURE__*/_jsxDEV(\"option\", {\n        children: dropdownArraySorted[i].label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 32\n      }, this));\n    }\n\n    mainpanelHtml.push( /*#__PURE__*/_jsxDEV(\"select\", {\n      children: [dropdownOptionsHtml, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 24\n    }, this)); // datapanel\n\n    let dataHtml = [];\n    let dataprops = [];\n    let columnsArray = [];\n    let columnsArraySorted = [];\n\n    for (let i in activeColumnMetadata.columns) {\n      columnsArray.push(activeColumnMetadata.columns[i]);\n    }\n\n    columnsArraySorted = sortArray(columnsArray, \"order\", \"integer\");\n\n    for (let i in recordData) {\n      let fieldDataprops = [];\n\n      for (let j in columnsArraySorted) {\n        fieldDataprops.push({\n          label: columnsArraySorted[j].label,\n          name: \"\",\n          type: fieldTypeHtmltoDBmapping({\n            fieldType: columnsArraySorted[j].type,\n            inputOrOutput: \"output\"\n          }),\n          width: columnsArraySorted[j] ? columnsArraySorted[j].width : \"50%\",\n          height: columnsArraySorted[j] ? columnsArraySorted[j].height : \"50%\",\n          hidelabel: columnsArraySorted[j].hidelabel,\n          direction: columnsArraySorted[j].direction,\n          placeholder: \"\",\n          required: \"false\",\n          readonly: \"true\",\n          defaultvalue: recordData[i][columnsArraySorted[j].name],\n          clientstatename: \"\",\n          clientstatetype: \"\"\n        });\n      }\n\n      let listrecordcompsperrowpercentage = 100 / listrecordcompsperrow + \"%\";\n      console.log(listrecordcompsperrowpercentage);\n      dataHtml.push( /*#__PURE__*/_jsxDEV(Htmlform, {\n        style: {\n          width: listrecordcompsperrowpercentage\n        },\n        inputChanged: \"\",\n        clkHandler: this.clickHandler,\n        inputKeyUp: \"\",\n        dataprops: fieldDataprops,\n        bgcolor: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this));\n    }\n\n    mainpanelHtml.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"org-flexbasis-100p org-mflexbasis-100p org-lflexbasis-100p org-bb org-fr org-fjc-sb org-fai-s \",\n      style: {\n        backgroundColor: \"#F2F2F2\"\n      },\n      children: dataHtml\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this));\n    console.log(columnMetadata);\n    console.log(this.props);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"org-fr\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: mainpanelHtml\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.tableActionBtnClick,\n            \"data-name\": \"\",\n            \"data-actionid\": \"\",\n            \"data-actiontype\": \"morerecordsbutton\",\n            children: \"More\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default F;","map":{"version":3,"sources":["/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/src/components/listtable.js"],"names":["React","Component","sortArray","fieldTypeHtmltoDBmapping","Htmlform","F","constructor","props","tableActionBtnClick","e","console","log","target","dataset","itemListData","recordDataTemp","state","name","tableCheckBoxElements","document","querySelectorAll","i","length","j","rowhtmlid1","checked","push","tableOnclick","itemLabel","itemName","itemType","itemData","setState","downloadTableasCSV","actiontype","itemId","actionid","mainpanelHtml","recordData","selectedrecordData","updaterecorddatafromstate","morerecorddatafromstate","componentDidMount","totalRows","selectedColumn","componentDidUpdate","prevProps","morerecorddata","updaterecorddata","prevmorerecorddata","prevupdaterecorddata","JSON","stringify","id","Object","assign","updateComponentData","render","columnMetadata","activeTableviewName","listrecordcompsperrow","activeColumnMetadata","activeButtons","buttons","buttonsArray","buttonsArraySorted","buttonsArrayHtml","label","dropdownOptionsHtml","dropdownArray","dropdownArraySorted","dataHtml","dataprops","columnsArray","columnsArraySorted","columns","fieldDataprops","type","fieldType","inputOrOutput","width","height","hidelabel","direction","placeholder","required","readonly","defaultvalue","clientstatename","clientstatetype","listrecordcompsperrowpercentage","clickHandler","backgroundColor"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,EAAoBC,wBAApB,QAAoD,aAApD;AACA,OAAOC,QAAP,MAAqB,eAArB;;;AAEA,MAAMC,CAAN,SAAgBJ,SAAhB,CAA0B;AACxBK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA6EnBC,mBA7EmB,GA6EIC,CAAD,IAAO;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,OAArB;AACA,UAAIC,YAAY,GAAG,EAAnB;AACA,UAAI;AAAEC,QAAAA;AAAF,UAAqB,KAAKC,KAA9B;;AACA,UACEP,CAAC,CAACG,MAAF,CAASC,OAAT,CAAiBI,IAAjB,IAAyB,QAAzB,IACAR,CAAC,CAACG,MAAF,CAASC,OAAT,CAAiBI,IAAjB,IAAyB,UAF3B,EAGE;AACA,YAAIC,qBAAqB,GAAGC,QAAQ,CAACC,gBAAT,CAC1B,yBAD0B,CAA5B;AAGAV,QAAAA,OAAO,CAACC,GAAR,CAAYO,qBAAZ;;AACA,aAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,qBAAqB,CAACI,MAA1C,EAAkDD,CAAC,EAAnD,EAAuD;AACrD,eAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,cAAc,CAACO,MAAnC,EAA2CC,CAAC,EAA5C,EAAgD;AAC9C,gBACEL,qBAAqB,CAACG,CAAD,CAArB,CAAyBR,OAAzB,CAAiCW,UAAjC,IACET,cAAc,CAACQ,CAAD,CAAd,CAAkB,KAAKhB,KAAL,CAAWiB,UAA7B,CADF,IAEAN,qBAAqB,CAACG,CAAD,CAArB,CAAyBI,OAH3B,EAIE;AACAX,cAAAA,YAAY,CAACY,IAAb,CAAkBX,cAAc,CAACQ,CAAD,CAAhC;AACD;AACF;AACF;;AACDb,QAAAA,OAAO,CAACC,GAAR,CAAYG,YAAZ;;AACA,YAAIL,CAAC,CAACG,MAAF,CAASC,OAAT,CAAiBI,IAAjB,IAAyB,QAA7B,EAAuC;AACrC,eAAKV,KAAL,CAAWoB,YAAX,CAAwB;AACtBC,YAAAA,SAAS,EAAE,EADW;AAEtBC,YAAAA,QAAQ,EAAEpB,CAAC,CAACG,MAAF,CAASC,OAAT,CAAiBI,IAFL;AAGtBa,YAAAA,QAAQ,EAAE,aAHY;AAItBC,YAAAA,QAAQ,EAAE,EAJY;AAKtBjB,YAAAA,YAAY,EAAEA;AALQ,WAAxB;AAOD;;AAED,YAAIL,CAAC,CAACG,MAAF,CAASC,OAAT,CAAiBI,IAAjB,IAAyB,UAA7B,EAAyC;AACvC,eAAKe,QAAL,CAAc;AAAEC,YAAAA,kBAAkB,EAAE;AAAtB,WAAd;AACD;AACF,OAjCD,MAiCO;AACL,aAAK1B,KAAL,CAAWoB,YAAX,CAAwB;AACtBC,UAAAA,SAAS,EAAE,EADW;AAEtBC,UAAAA,QAAQ,EAAEpB,CAAC,CAACG,MAAF,CAASC,OAAT,CAAiBI,IAFL;AAGtBa,UAAAA,QAAQ,EAAErB,CAAC,CAACG,MAAF,CAASC,OAAT,CAAiBqB,UAHL;AAItBC,UAAAA,MAAM,EAAE1B,CAAC,CAACG,MAAF,CAASC,OAAT,CAAiBuB,QAJH;AAKtBA,UAAAA,QAAQ,EAAE3B,CAAC,CAACG,MAAF,CAASC,OAAT,CAAiBuB,QALL;AAMtBL,UAAAA,QAAQ,EAAE,EANY;AAOtBjB,UAAAA,YAAY,EAAEA;AAPQ,SAAxB;AASD;AACF,KA7HkB;;AAEjB,SAAKE,KAAL,GAAa;AACXqB,MAAAA,aAAa,EAAE,EADJ;AAEXC,MAAAA,UAAU,EAAE,EAFD;AAGXvB,MAAAA,cAAc,EAAE,EAHL;AAIXwB,MAAAA,kBAAkB,EAAE,EAJT;AAKXC,MAAAA,yBAAyB,EAAE,EALhB;AAMXC,MAAAA,uBAAuB,EAAE;AANd,KAAb;AAQD;;AACDC,EAAAA,iBAAiB,GAAG;AAClB,QAAI,KAAKnC,KAAL,CAAW+B,UAAf,EAA2B;AACzB,UAAIK,SAAS,GAAG,KAAKpC,KAAL,CAAW+B,UAAX,CAAsBhB,MAAtC;AACA,WAAKU,QAAL,CAAc;AACZW,QAAAA,SAAS,EAAEA,SADC;AAEZL,QAAAA,UAAU,EAAE,KAAK/B,KAAL,CAAW+B,UAFX;AAGZvB,QAAAA,cAAc,EAAE,KAAKR,KAAL,CAAW+B,UAHf;AAIZM,QAAAA,cAAc,EAAE;AAJJ,OAAd;AAMD;AACF;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5BpC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKJ,KAAL,CAAWwC,cAAvB;AACA,QAAI;AACFT,MAAAA,UADE;AAEFvB,MAAAA,cAFE;AAGFyB,MAAAA,yBAHE;AAIFC,MAAAA;AAJE,QAKA,KAAKzB,KALT;AAMA,QAAI;AAAE+B,MAAAA,cAAF;AAAkBC,MAAAA;AAAlB,QAAuC,KAAKzC,KAAhD;AACA,QAAI;AAAE0C,MAAAA,kBAAF;AAAsBC,MAAAA;AAAtB,QAA+CJ,SAAnD;;AACA,QACEK,IAAI,CAACC,SAAL,CAAeX,uBAAf,KAA2CU,IAAI,CAACC,SAAL,CAAeL,cAAf,CAD7C,EAEE;AACA,WAAK,IAAI1B,CAAT,IAAc0B,cAAd,EAA8B;AAC5BhC,QAAAA,cAAc,CAACW,IAAf,CAAoBqB,cAAc,CAAC1B,CAAD,CAAlC;AACD;;AACD,WAAKW,QAAL,CAAc;AACZjB,QAAAA,cAAc,EAAEA,cADJ;AAEZuB,QAAAA,UAAU,EAAEA,UAFA;AAGZG,QAAAA,uBAAuB,EAAEM;AAHb,OAAd;AAKD;;AAED,QACEI,IAAI,CAACC,SAAL,CAAeZ,yBAAf,KACAW,IAAI,CAACC,SAAL,CAAeJ,gBAAf,CAFF,EAGE;AACA,WAAK,IAAI3B,CAAT,IAAcN,cAAd,EAA8B;AAC5B,aAAK,IAAIQ,CAAT,IAAcyB,gBAAd,EAAgC;AAC9B,cAAIjC,cAAc,CAACM,CAAD,CAAd,CAAkBgC,EAAlB,IAAwBL,gBAAgB,CAACzB,CAAD,CAAhB,CAAoB8B,EAAhD,EAAoD;AAClDtC,YAAAA,cAAc,CAACM,CAAD,CAAd,GAAoBiC,MAAM,CAACC,MAAP,CAClBxC,cAAc,CAACM,CAAD,CADI,EAElB2B,gBAAgB,CAACzB,CAAD,CAFE,CAApB;AAID;AACF;;AAED,aAAK,IAAIF,CAAT,IAAciB,UAAd,EAA0B;AACxB,eAAK,IAAIf,CAAT,IAAcyB,gBAAd,EAAgC;AAC9B,gBAAIV,UAAU,CAACjB,CAAD,CAAV,CAAcgC,EAAd,IAAoBL,gBAAgB,CAACzB,CAAD,CAAhB,CAAoB8B,EAA5C,EAAgD;AAC9Cf,cAAAA,UAAU,CAACjB,CAAD,CAAV,GAAgBiC,MAAM,CAACC,MAAP,CAAcjB,UAAU,CAACjB,CAAD,CAAxB,EAA6B2B,gBAAgB,CAACzB,CAAD,CAA7C,CAAhB;AACD;AACF;AACF;;AAED,aAAKS,QAAL,CAAc;AACZjB,UAAAA,cAAc,EAAEA,cADJ;AAEZuB,UAAAA,UAAU,EAAEA,UAFA;AAGZE,UAAAA,yBAAyB,EAAEQ;AAHf,SAAd;AAKD;AACF;AACF;;AAoDDQ,EAAAA,mBAAmB,GAAG,CAAE;;AAExBC,EAAAA,MAAM,GAAG;AACP,QAAI;AACFC,MAAAA,cADE;AAGFC,MAAAA,mBAHE;AAIFC,MAAAA;AAJE,QAKA,KAAKrD,KALT;AAMA,QAAI;AAAE+B,MAAAA;AAAF,QAAiB,KAAKtB,KAA1B;AACA,QAAIqB,aAAa,GAAG,EAApB;AAEA,QAAIwB,oBAAoB,GAAGH,cAAc,CAACC,mBAAD,CAAzC;AACAjD,IAAAA,OAAO,CAACC,GAAR,CAAYkD,oBAAZ,EAXO,CAaP;;AACA,QAAIC,aAAa,GAAGD,oBAAoB,CAACE,OAAzC;AACA,QAAIC,YAAY,GAAG,EAAnB;AACA,QAAIC,kBAAkB,GAAG,EAAzB;AACA,QAAIC,gBAAgB,GAAG,EAAvB;;AACA,SAAK,IAAI7C,CAAT,IAAcyC,aAAd,EAA6B;AAC3BE,MAAAA,YAAY,CAACtC,IAAb,CAAkBoC,aAAa,CAACzC,CAAD,CAA/B;AACD;;AACD4C,IAAAA,kBAAkB,GAAG/D,SAAS,CAAC8D,YAAD,EAAe,OAAf,EAAwB,SAAxB,CAA9B;;AACA,SAAK,IAAI3C,CAAT,IAAc4C,kBAAd,EAAkC;AAChCC,MAAAA,gBAAgB,CAACxC,IAAjB,eAAsB;AAAA,kBAASuC,kBAAkB,CAAC5C,CAAD,CAAlB,CAAsB8C;AAA/B;AAAA;AAAA;AAAA;AAAA,cAAtB;AACD;;AACD9B,IAAAA,aAAa,CAACX,IAAd,CAAmBwC,gBAAnB,EAzBO,CA2BP;;AACA,QAAIE,mBAAmB,GAAG,EAA1B;AACA,QAAIC,aAAa,GAAG,EAApB;AACA,QAAIC,mBAAmB,GAAG,EAA1B;;AAEA,SAAK,IAAIjD,CAAT,IAAcqC,cAAd,EAA8B;AAC5BW,MAAAA,aAAa,CAAC3C,IAAd,CAAmBgC,cAAc,CAACrC,CAAD,CAAjC;AACD;;AACDiD,IAAAA,mBAAmB,GAAGpE,SAAS,CAACmE,aAAD,EAAgB,OAAhB,EAAyB,SAAzB,CAA/B;;AACA,SAAK,IAAIhD,CAAT,IAAciD,mBAAd,EAAmC;AACjCF,MAAAA,mBAAmB,CAAC1C,IAApB,eAAyB;AAAA,kBAAS4C,mBAAmB,CAACjD,CAAD,CAAnB,CAAuB8C;AAAhC;AAAA;AAAA;AAAA;AAAA,cAAzB;AACD;;AACD9B,IAAAA,aAAa,CAACX,IAAd,eAAmB;AAAA,iBAAS0C,mBAAT;AAAA;AAAA;AAAA;AAAA;AAAA,YAAnB,EAvCO,CAyCP;;AACA,QAAIG,QAAQ,GAAG,EAAf;AACA,QAAIC,SAAS,GAAG,EAAhB;AACA,QAAIC,YAAY,GAAG,EAAnB;AACA,QAAIC,kBAAkB,GAAG,EAAzB;;AAEA,SAAK,IAAIrD,CAAT,IAAcwC,oBAAoB,CAACc,OAAnC,EAA4C;AAC1CF,MAAAA,YAAY,CAAC/C,IAAb,CAAkBmC,oBAAoB,CAACc,OAArB,CAA6BtD,CAA7B,CAAlB;AACD;;AACDqD,IAAAA,kBAAkB,GAAGxE,SAAS,CAACuE,YAAD,EAAe,OAAf,EAAwB,SAAxB,CAA9B;;AACA,SAAK,IAAIpD,CAAT,IAAciB,UAAd,EAA0B;AACxB,UAAIsC,cAAc,GAAG,EAArB;;AACA,WAAK,IAAIrD,CAAT,IAAcmD,kBAAd,EAAkC;AAChCE,QAAAA,cAAc,CAAClD,IAAf,CAAoB;AAClByC,UAAAA,KAAK,EAAEO,kBAAkB,CAACnD,CAAD,CAAlB,CAAsB4C,KADX;AAElBlD,UAAAA,IAAI,EAAE,EAFY;AAIlB4D,UAAAA,IAAI,EAAE1E,wBAAwB,CAAC;AAC7B2E,YAAAA,SAAS,EAAEJ,kBAAkB,CAACnD,CAAD,CAAlB,CAAsBsD,IADJ;AAE7BE,YAAAA,aAAa,EAAE;AAFc,WAAD,CAJZ;AASlBC,UAAAA,KAAK,EAAEN,kBAAkB,CAACnD,CAAD,CAAlB,GAAwBmD,kBAAkB,CAACnD,CAAD,CAAlB,CAAsByD,KAA9C,GAAsD,KAT3C;AAWlBC,UAAAA,MAAM,EAAEP,kBAAkB,CAACnD,CAAD,CAAlB,GAAwBmD,kBAAkB,CAACnD,CAAD,CAAlB,CAAsB0D,MAA9C,GAAuD,KAX7C;AAYlBC,UAAAA,SAAS,EAAER,kBAAkB,CAACnD,CAAD,CAAlB,CAAsB2D,SAZf;AAalBC,UAAAA,SAAS,EAAET,kBAAkB,CAACnD,CAAD,CAAlB,CAAsB4D,SAbf;AAclBC,UAAAA,WAAW,EAAE,EAdK;AAelBC,UAAAA,QAAQ,EAAE,OAfQ;AAgBlBC,UAAAA,QAAQ,EAAE,MAhBQ;AAkBlBC,UAAAA,YAAY,EAAEjD,UAAU,CAACjB,CAAD,CAAV,CAAcqD,kBAAkB,CAACnD,CAAD,CAAlB,CAAsBN,IAApC,CAlBI;AAoBlBuE,UAAAA,eAAe,EAAE,EApBC;AAqBlBC,UAAAA,eAAe,EAAE;AArBC,SAApB;AAuBD;;AACD,UAAIC,+BAA+B,GAAG,MAAM9B,qBAAN,GAA8B,GAApE;AACAlD,MAAAA,OAAO,CAACC,GAAR,CAAY+E,+BAAZ;AACAnB,MAAAA,QAAQ,CAAC7C,IAAT,eACE,QAAC,QAAD;AACE,QAAA,KAAK,EAAE;AAAEsD,UAAAA,KAAK,EAAEU;AAAT,SADT;AAEE,QAAA,YAAY,EAAC,EAFf;AAGE,QAAA,UAAU,EAAE,KAAKC,YAHnB;AAIE,QAAA,UAAU,EAAC,EAJb;AAKE,QAAA,SAAS,EAAEf,cALb;AAME,QAAA,OAAO,EAAC;AANV;AAAA;AAAA;AAAA;AAAA,cADF;AAUD;;AAEDvC,IAAAA,aAAa,CAACX,IAAd,eACE;AACE,MAAA,SAAS,EAAC,gGADZ;AAEE,MAAA,KAAK,EAAE;AACLkE,QAAAA,eAAe,EAAE;AADZ,OAFT;AAAA,gBAMGrB;AANH;AAAA;AAAA;AAAA;AAAA,YADF;AAWA7D,IAAAA,OAAO,CAACC,GAAR,CAAY+C,cAAZ;AAEAhD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKJ,KAAjB;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACE;AAAA,+BACE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAA,gCACE;AAAA,oBAAM8B;AAAN;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,iCACE;AACE,YAAA,OAAO,EAAE,KAAK7B,mBADhB;AAEE,yBAAU,EAFZ;AAGE,6BAAc,EAHhB;AAIE,+BAAgB,mBAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAoBD;;AAjQuB;;AAoQ1B,eAAeH,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { sortArray, fieldTypeHtmltoDBmapping } from \"../js/index\";\nimport Htmlform from \"./htmlformnew\";\n\nclass F extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mainpanelHtml: [],\n      recordData: [],\n      recordDataTemp: [],\n      selectedrecordData: [],\n      updaterecorddatafromstate: [],\n      morerecorddatafromstate: [],\n    };\n  }\n  componentDidMount() {\n    if (this.props.recordData) {\n      let totalRows = this.props.recordData.length;\n      this.setState({\n        totalRows: totalRows,\n        recordData: this.props.recordData,\n        recordDataTemp: this.props.recordData,\n        selectedColumn: \"\",\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(this.props.morerecorddata);\n    let {\n      recordData,\n      recordDataTemp,\n      updaterecorddatafromstate,\n      morerecorddatafromstate,\n    } = this.state;\n    let { morerecorddata, updaterecorddata } = this.props;\n    let { prevmorerecorddata, prevupdaterecorddata } = prevProps;\n    if (\n      JSON.stringify(morerecorddatafromstate) != JSON.stringify(morerecorddata)\n    ) {\n      for (let i in morerecorddata) {\n        recordDataTemp.push(morerecorddata[i]);\n      }\n      this.setState({\n        recordDataTemp: recordDataTemp,\n        recordData: recordData,\n        morerecorddatafromstate: morerecorddata,\n      });\n    }\n\n    if (\n      JSON.stringify(updaterecorddatafromstate) !=\n      JSON.stringify(updaterecorddata)\n    ) {\n      for (let i in recordDataTemp) {\n        for (let j in updaterecorddata) {\n          if (recordDataTemp[i].id == updaterecorddata[j].id) {\n            recordDataTemp[i] = Object.assign(\n              recordDataTemp[i],\n              updaterecorddata[j]\n            );\n          }\n        }\n\n        for (let i in recordData) {\n          for (let j in updaterecorddata) {\n            if (recordData[i].id == updaterecorddata[j].id) {\n              recordData[i] = Object.assign(recordData[i], updaterecorddata[j]);\n            }\n          }\n        }\n\n        this.setState({\n          recordDataTemp: recordDataTemp,\n          recordData: recordData,\n          updaterecorddatafromstate: updaterecorddata,\n        });\n      }\n    }\n  }\n\n  tableActionBtnClick = (e) => {\n    console.log(e.target.dataset);\n    let itemListData = [];\n    let { recordDataTemp } = this.state;\n    if (\n      e.target.dataset.name == \"upload\" ||\n      e.target.dataset.name == \"download\"\n    ) {\n      let tableCheckBoxElements = document.querySelectorAll(\n        \".tablecompinputcheckbox\"\n      );\n      console.log(tableCheckBoxElements);\n      for (let i = 0; i < tableCheckBoxElements.length; i++) {\n        for (let j = 0; j < recordDataTemp.length; j++) {\n          if (\n            tableCheckBoxElements[i].dataset.rowhtmlid1 ==\n              recordDataTemp[j][this.props.rowhtmlid1] &&\n            tableCheckBoxElements[i].checked\n          ) {\n            itemListData.push(recordDataTemp[j]);\n          }\n        }\n      }\n      console.log(itemListData);\n      if (e.target.dataset.name == \"upload\") {\n        this.props.tableOnclick({\n          itemLabel: \"\",\n          itemName: e.target.dataset.name,\n          itemType: \"tablebutton\",\n          itemData: \"\",\n          itemListData: itemListData,\n        });\n      }\n\n      if (e.target.dataset.name == \"download\") {\n        this.setState({ downloadTableasCSV: true });\n      }\n    } else {\n      this.props.tableOnclick({\n        itemLabel: \"\",\n        itemName: e.target.dataset.name,\n        itemType: e.target.dataset.actiontype,\n        itemId: e.target.dataset.actionid,\n        actionid: e.target.dataset.actionid,\n        itemData: \"\",\n        itemListData: itemListData,\n      });\n    }\n  };\n\n  updateComponentData() {}\n\n  render() {\n    let {\n      columnMetadata,\n\n      activeTableviewName,\n      listrecordcompsperrow,\n    } = this.props;\n    let { recordData } = this.state;\n    let mainpanelHtml = [];\n\n    let activeColumnMetadata = columnMetadata[activeTableviewName];\n    console.log(activeColumnMetadata);\n\n    // buttons\n    let activeButtons = activeColumnMetadata.buttons;\n    let buttonsArray = [];\n    let buttonsArraySorted = [];\n    let buttonsArrayHtml = [];\n    for (let i in activeButtons) {\n      buttonsArray.push(activeButtons[i]);\n    }\n    buttonsArraySorted = sortArray(buttonsArray, \"order\", \"integer\");\n    for (let i in buttonsArraySorted) {\n      buttonsArrayHtml.push(<button>{buttonsArraySorted[i].label}</button>);\n    }\n    mainpanelHtml.push(buttonsArrayHtml);\n\n    // dropdown\n    let dropdownOptionsHtml = [];\n    let dropdownArray = [];\n    let dropdownArraySorted = [];\n\n    for (let i in columnMetadata) {\n      dropdownArray.push(columnMetadata[i]);\n    }\n    dropdownArraySorted = sortArray(dropdownArray, \"order\", \"integer\");\n    for (let i in dropdownArraySorted) {\n      dropdownOptionsHtml.push(<option>{dropdownArraySorted[i].label}</option>);\n    }\n    mainpanelHtml.push(<select>{dropdownOptionsHtml} </select>);\n\n    // datapanel\n    let dataHtml = [];\n    let dataprops = [];\n    let columnsArray = [];\n    let columnsArraySorted = [];\n\n    for (let i in activeColumnMetadata.columns) {\n      columnsArray.push(activeColumnMetadata.columns[i]);\n    }\n    columnsArraySorted = sortArray(columnsArray, \"order\", \"integer\");\n    for (let i in recordData) {\n      let fieldDataprops = [];\n      for (let j in columnsArraySorted) {\n        fieldDataprops.push({\n          label: columnsArraySorted[j].label,\n          name: \"\",\n\n          type: fieldTypeHtmltoDBmapping({\n            fieldType: columnsArraySorted[j].type,\n            inputOrOutput: \"output\",\n          }),\n\n          width: columnsArraySorted[j] ? columnsArraySorted[j].width : \"50%\",\n\n          height: columnsArraySorted[j] ? columnsArraySorted[j].height : \"50%\",\n          hidelabel: columnsArraySorted[j].hidelabel,\n          direction: columnsArraySorted[j].direction,\n          placeholder: \"\",\n          required: \"false\",\n          readonly: \"true\",\n\n          defaultvalue: recordData[i][columnsArraySorted[j].name],\n\n          clientstatename: \"\",\n          clientstatetype: \"\",\n        });\n      }\n      let listrecordcompsperrowpercentage = 100 / listrecordcompsperrow + \"%\";\n      console.log(listrecordcompsperrowpercentage);\n      dataHtml.push(\n        <Htmlform\n          style={{ width: listrecordcompsperrowpercentage }}\n          inputChanged=\"\"\n          clkHandler={this.clickHandler}\n          inputKeyUp=\"\"\n          dataprops={fieldDataprops}\n          bgcolor=\"\"\n        />\n      );\n    }\n\n    mainpanelHtml.push(\n      <div\n        className=\"org-flexbasis-100p org-mflexbasis-100p org-lflexbasis-100p org-bb org-fr org-fjc-sb org-fai-s \"\n        style={{\n          backgroundColor: \"#F2F2F2\",\n        }}\n      >\n        {dataHtml}\n      </div>\n    );\n\n    console.log(columnMetadata);\n\n    console.log(this.props);\n\n    return (\n      <div className=\"org-fr\">\n        <div>\n          <input />\n        </div>\n        <div>\n          <div>{mainpanelHtml}</div>\n          <div>\n            <button\n              onClick={this.tableActionBtnClick}\n              data-name=\"\"\n              data-actionid=\"\"\n              data-actiontype=\"morerecordsbutton\"\n            >\n              More\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default F;\n"]},"metadata":{},"sourceType":"module"}