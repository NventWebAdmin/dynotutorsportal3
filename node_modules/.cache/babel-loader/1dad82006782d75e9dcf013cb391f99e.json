{"ast":null,"code":"import _objectSpread from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import Signin from\"./signin\";import Sfdclogo from\"../../images/sfdc.svg\";import{isAuthenticatedUser}from\"../../auth/index\";import{signin,refreshtoken,signup,resetPassword,signInwithGoogle,signInwithFacebook}from\"../../auth/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function F(Components){var textPanel=[];textPanel.push(/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Salesforcee\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lf\",children:\"top rated CRM getting used by most of the fortune 100 companies for Marketing, Sales and Service cloud implementations\"})]}));var isUserAuthenticated=sessionStorage.getItem(\"orgidToken\");//isUserAuthenticated = true;\nconsole.log(isUserAuthenticated);var tokenexpiryTime=sessionStorage.getItem(\"orgexpiresAt\");console.log(tokenexpiryTime);var d=new Date();var n=d.getTime();var currentime=parseInt(n);console.log(currentime);var expirytime=parseInt(tokenexpiryTime);console.log(expirytime);var askforRefreshtokentimelimit=60000;var resetsigninTimeLimt=3480000;resetsigninTimeLimt=0;askforRefreshtokentimelimit=0;expirytime=expirytime-resetsigninTimeLimt;console.log(expirytime);var askforRefreshtokentime=expirytime-askforRefreshtokentimelimit;var d3=new Date(expirytime);console.log(d3);console.log(askforRefreshtokentime);if(isUserAuthenticated!==\"\"&&isUserAuthenticated!==undefined&&isUserAuthenticated!==null){if(currentime>askforRefreshtokentime&&currentime<expirytime){return function(props){return/*#__PURE__*/_jsx(Signin,_objectSpread(_objectSpread({},props),{},{textPanel:textPanel,logo:Sfdclogo,template:\"loginPanelLeft\",isrefreshtoken:\"true\"}));};}else if(currentime>expirytime){// sessionStorage.removeItem(\"orgemail\");\n// sessionStorage.removeItem(\"orgexpiresAt\");\n// sessionStorage.removeItem(\"orgidToken\");\n// sessionStorage.removeItem(\"orgrefreshToken\");\nsessionStorage.clear();return function(props){return/*#__PURE__*/_jsx(Signin,_objectSpread(_objectSpread({},props),{},{textPanel:textPanel,logo:Sfdclogo,template:\"loginPanelLeft\"}));};}else{return function(props){return/*#__PURE__*/_jsx(Components,_objectSpread({},props));};}}else{return function(props){return/*#__PURE__*/_jsx(Signin,_objectSpread(_objectSpread({},props),{},{textPanel:textPanel,logo:Sfdclogo,template:\"loginPanelLeft\"}));};}}export default F;","map":{"version":3,"sources":["/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/src/components/auth/signincheck.js"],"names":["React","Signin","isAuthenticatedUser","signin","refreshtoken","signup","resetPassword","signInwithGoogle","signInwithFacebook","F","Components","textPanel","push","isUserAuthenticated","sessionStorage","getItem","console","log","tokenexpiryTime","d","Date","n","getTime","currentime","parseInt","expirytime","askforRefreshtokentimelimit","resetsigninTimeLimt","askforRefreshtokentime","d3","undefined","props","Sfdclogo","clear"],"mappings":"4LAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,4CAEA,OAASC,mBAAT,KAAoC,kBAApC,CACA,OACEC,MADF,CAEEC,YAFF,CAGEC,MAHF,CAIEC,aAJF,CAKEC,gBALF,CAMEC,kBANF,KAOO,kBAPP,C,6IASA,QAASC,CAAAA,CAAT,CAAWC,UAAX,CAAuB,CACrB,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACAA,SAAS,CAACC,IAAV,cACE,2BACG,GADH,cAEE,8CAFF,cAGE,UAAG,SAAS,CAAC,IAAb,oIAHF,GADF,EAWA,GAAIC,CAAAA,mBAAmB,CAAGC,cAAc,CAACC,OAAf,CAAuB,YAAvB,CAA1B,CACA;AACAC,OAAO,CAACC,GAAR,CAAYJ,mBAAZ,EACA,GAAIK,CAAAA,eAAe,CAAGJ,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAtB,CACAC,OAAO,CAACC,GAAR,CAAYC,eAAZ,EAEA,GAAIC,CAAAA,CAAC,CAAG,GAAIC,CAAAA,IAAJ,EAAR,CACA,GAAIC,CAAAA,CAAC,CAAGF,CAAC,CAACG,OAAF,EAAR,CACA,GAAIC,CAAAA,UAAU,CAAGC,QAAQ,CAACH,CAAD,CAAzB,CACAL,OAAO,CAACC,GAAR,CAAYM,UAAZ,EAEA,GAAIE,CAAAA,UAAU,CAAGD,QAAQ,CAACN,eAAD,CAAzB,CACAF,OAAO,CAACC,GAAR,CAAYQ,UAAZ,EACA,GAAIC,CAAAA,2BAA2B,CAAG,KAAlC,CACA,GAAIC,CAAAA,mBAAmB,CAAG,OAA1B,CACAA,mBAAmB,CAAG,CAAtB,CACAD,2BAA2B,CAAG,CAA9B,CACAD,UAAU,CAAGA,UAAU,CAAGE,mBAA1B,CACAX,OAAO,CAACC,GAAR,CAAYQ,UAAZ,EACA,GAAIG,CAAAA,sBAAsB,CAAGH,UAAU,CAAGC,2BAA1C,CACA,GAAIG,CAAAA,EAAE,CAAG,GAAIT,CAAAA,IAAJ,CAASK,UAAT,CAAT,CACAT,OAAO,CAACC,GAAR,CAAYY,EAAZ,EACAb,OAAO,CAACC,GAAR,CAAYW,sBAAZ,EAEA,GACEf,mBAAmB,GAAK,EAAxB,EACAA,mBAAmB,GAAKiB,SADxB,EAEAjB,mBAAmB,GAAK,IAH1B,CAIE,CACA,GAAIU,UAAU,CAAGK,sBAAb,EAAuCL,UAAU,CAAGE,UAAxD,CAAoE,CAClE,MAAO,UAACM,KAAD,qBACL,KAAC,MAAD,gCACMA,KADN,MAEE,SAAS,CAAEpB,SAFb,CAGE,IAAI,CAAEqB,QAHR,CAIE,QAAQ,CAAC,gBAJX,CAKE,cAAc,CAAC,MALjB,GADK,EAAP,CASD,CAVD,IAUO,IAAIT,UAAU,CAAGE,UAAjB,CAA6B,CAClC;AACA;AACA;AACA;AACAX,cAAc,CAACmB,KAAf,GACA,MAAO,UAACF,KAAD,qBACL,KAAC,MAAD,gCACMA,KADN,MAEE,SAAS,CAAEpB,SAFb,CAGE,IAAI,CAAEqB,QAHR,CAIE,QAAQ,CAAC,gBAJX,GADK,EAAP,CAQD,CAdM,IAcA,CACL,MAAO,UAACD,KAAD,qBAAW,KAAC,UAAD,kBAAgBA,KAAhB,EAAX,EAAP,CACD,CACF,CAhCD,IAgCO,CACL,MAAO,UAACA,KAAD,qBACL,KAAC,MAAD,gCACMA,KADN,MAEE,SAAS,CAAEpB,SAFb,CAGE,IAAI,CAAEqB,QAHR,CAIE,QAAQ,CAAC,gBAJX,GADK,EAAP,CAQD,CACF,CAED,cAAevB,CAAAA,CAAf","sourcesContent":["import React from \"react\";\nimport Signin from \"./signin\";\nimport Sfdclogo from \"../../images/sfdc.svg\";\nimport { isAuthenticatedUser } from \"../../auth/index\";\nimport {\n  signin,\n  refreshtoken,\n  signup,\n  resetPassword,\n  signInwithGoogle,\n  signInwithFacebook,\n} from \"../../auth/index\";\n\nfunction F(Components) {\n  let textPanel = [];\n  textPanel.push(\n    <>\n      {\" \"}\n      <h1>Welcome to Salesforcee</h1>\n      <p className=\"lf\">\n        top rated CRM getting used by most of the fortune 100 companies for\n        Marketing, Sales and Service cloud implementations\n      </p>\n    </>\n  );\n\n  let isUserAuthenticated = sessionStorage.getItem(\"orgidToken\");\n  //isUserAuthenticated = true;\n  console.log(isUserAuthenticated);\n  let tokenexpiryTime = sessionStorage.getItem(\"orgexpiresAt\");\n  console.log(tokenexpiryTime);\n\n  let d = new Date();\n  let n = d.getTime();\n  let currentime = parseInt(n);\n  console.log(currentime);\n\n  let expirytime = parseInt(tokenexpiryTime);\n  console.log(expirytime);\n  let askforRefreshtokentimelimit = 60000;\n  let resetsigninTimeLimt = 3480000;\n  resetsigninTimeLimt = 0;\n  askforRefreshtokentimelimit = 0;\n  expirytime = expirytime - resetsigninTimeLimt;\n  console.log(expirytime);\n  let askforRefreshtokentime = expirytime - askforRefreshtokentimelimit;\n  let d3 = new Date(expirytime);\n  console.log(d3);\n  console.log(askforRefreshtokentime);\n\n  if (\n    isUserAuthenticated !== \"\" &&\n    isUserAuthenticated !== undefined &&\n    isUserAuthenticated !== null\n  ) {\n    if (currentime > askforRefreshtokentime && currentime < expirytime) {\n      return (props) => (\n        <Signin\n          {...props}\n          textPanel={textPanel}\n          logo={Sfdclogo}\n          template=\"loginPanelLeft\"\n          isrefreshtoken=\"true\"\n        />\n      );\n    } else if (currentime > expirytime) {\n      // sessionStorage.removeItem(\"orgemail\");\n      // sessionStorage.removeItem(\"orgexpiresAt\");\n      // sessionStorage.removeItem(\"orgidToken\");\n      // sessionStorage.removeItem(\"orgrefreshToken\");\n      sessionStorage.clear();\n      return (props) => (\n        <Signin\n          {...props}\n          textPanel={textPanel}\n          logo={Sfdclogo}\n          template=\"loginPanelLeft\"\n        />\n      );\n    } else {\n      return (props) => <Components {...props} />;\n    }\n  } else {\n    return (props) => (\n      <Signin\n        {...props}\n        textPanel={textPanel}\n        logo={Sfdclogo}\n        template=\"loginPanelLeft\"\n      />\n    );\n  }\n}\n\nexport default F;\n"]},"metadata":{},"sourceType":"module"}