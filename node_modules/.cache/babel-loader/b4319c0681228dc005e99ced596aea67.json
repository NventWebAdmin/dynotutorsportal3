{"ast":null,"code":"import _objectSpread from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{getRecorddata,createRecord,bulkcreateRecord}from\"../db/index\";import Tablecomp from\"./tablecomp2\";import{getLocalData,serverButtonHandler,filterArraybyObject}from\"../js/index\";import{GetFontAwesomeIcon,GetGoogleIcon}from\"./icons\";import Recorddataeditview from\"./recorddataeditview2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var F=/*#__PURE__*/function(_Component){_inherits(F,_Component);var _super=_createSuper(F);function F(_props){var _this;_classCallCheck(this,F);_this=_super.call(this,_props);_this.clickHandler=function(e,props){var multiselectclickedrecordids=_this.state.multiselectclickedrecordids;var dataset=e.target.dataset;var _this$props$compprops=_this.props.compprops,tablename=_this$props$compprops.tablename,viewname=_this$props$compprops.viewname,defaulttableviewnamebeginswith=_this$props$compprops.defaulttableviewnamebeginswith,comphtmlid=_this$props$compprops.comphtmlid;if(dataset.type===\"new\"){_this.setState({showUI:false},function(){_this.setState({clickedrecordid:\"\",showUI:true,action:\"new\"});});}if(dataset.type===\"view\"){_this.setState({showUI:false},function(){_this.setState({clickedrecordid:dataset.name,showUI:true,action:\"view\"});});}if(dataset.type===\"multiselectview\"){if(multiselectclickedrecordids.indexOf(dataset.name)!==-1){var pos=multiselectclickedrecordids.indexOf(dataset.name);multiselectclickedrecordids.splice(pos,1);}else{multiselectclickedrecordids.push(dataset.name);}_this.setState({showUI:false},function(){_this.setState({multiselectclickedrecordids:multiselectclickedrecordids,showUI:true,action:\"multiselectview\"});_this.props.createSyncEvent({comphtmlid:comphtmlid,data:{multiselectclickedrecordids:multiselectclickedrecordids}});});}if(dataset.name===\"new-create\"||dataset.name===\"edit-save\"){_this.getRecordListMetadataAndDatafromServer({tablename:tablename,viewname:viewname,defaulttableviewnamebeginswith:defaulttableviewnamebeginswith,clickedrecordid:props.recordid});}};_this.changeHanlder=function(e){// let dataset = e.target.dataset;\n// let { recordData } = props;\n// console.log(recordData);\n};_this.openwindow=function(props){var type=props.type;_this.setState({windowtype:type});};_this.state={recordDataList:[],recordData:{},action:\"\",activetableviewItem:{},windowtype:\"hsplit\",clickedrecordid:\"\",showUI:false,multiselectclickedrecordids:[]};return _this;}_createClass(F,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var clickedrecordid,url,_this$props$compprops2,tablename,comphtmlid,recordeditviewprops,showallrecordsubscribe,parentobjectfilter,showallrecords,enablelocaldbdata,listdisplaytype,defaultdatafilter,viewname,defaulttableviewnamebeginswith,recordviewfieldname,showrecordeditview;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:clickedrecordid=\"\";url=new URL(document.location);console.log(url);// var searchParams = new URLSearchParams(url.search);\n// if (searchParams.get(\"id\")) {\n//   clickedrecordid = searchParams.get(\"id\");\n// }\n_this$props$compprops2=this.props.compprops,tablename=_this$props$compprops2.tablename,comphtmlid=_this$props$compprops2.comphtmlid,recordeditviewprops=_this$props$compprops2.recordeditviewprops,showallrecordsubscribe=_this$props$compprops2.showallrecordsubscribe,parentobjectfilter=_this$props$compprops2.parentobjectfilter,showallrecords=_this$props$compprops2.showallrecords,enablelocaldbdata=_this$props$compprops2.enablelocaldbdata,listdisplaytype=_this$props$compprops2.listdisplaytype,defaultdatafilter=_this$props$compprops2.defaultdatafilter,viewname=_this$props$compprops2.viewname,defaulttableviewnamebeginswith=_this$props$compprops2.defaulttableviewnamebeginswith,recordviewfieldname=_this$props$compprops2.recordviewfieldname,showrecordeditview=_this$props$compprops2.showrecordeditview;this.getRecordListMetadataAndDatafromServer({tablename:tablename,viewname:viewname,defaulttableviewnamebeginswith:defaulttableviewnamebeginswith,clickedrecordid:\"\"});case 5:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"getRecordListMetadataAndDatafromServer\",value:function(){var _getRecordListMetadataAndDatafromServer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(props){var _this2=this;var _this$props$compprops3,recordviewfieldname,defaultdatafilter,tablename,viewname,defaulttableviewnamebeginswith,clickedrecordid,tableviewdataParams,dataParams,localdata,datasortparamequalsto,datasortparambeginswith,tableviewdataresult,tableviewrecordDataList,activetableviewItem,i,j,dataresult,recordDataList;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props$compprops3=this.props.compprops,recordviewfieldname=_this$props$compprops3.recordviewfieldname,defaultdatafilter=_this$props$compprops3.defaultdatafilter;tablename=props.tablename,viewname=props.viewname,defaulttableviewnamebeginswith=props.defaulttableviewnamebeginswith,clickedrecordid=props.clickedrecordid;tableviewdataParams={};dataParams={};localdata=getLocalData(this.props);datasortparamequalsto=\"\",datasortparambeginswith=\"\";tableviewdataParams={objectName:\"tableview2\",objectData:{},keyConditions:[{field:\"orgname\",value:localdata.orgname,expression:\"=\"},{field:\"id\",value:defaulttableviewnamebeginswith,expression:\"beginswith\"}],filterConditions:[],pageSize:\"\",limit:\"\",exclusiveStartKey:\"\"};console.log(tableviewdataParams);_context2.next=10;return getRecorddata(tableviewdataParams);case 10:tableviewdataresult=_context2.sent;if(!(tableviewdataresult.isSuccess===\"false\")){_context2.next=15;break;}alert(\"data\"+tableviewdataresult.message);_context2.next=27;break;case 15:tableviewrecordDataList=tableviewdataresult.dataprops.Items;console.log(tableviewrecordDataList);for(i=0;i<tableviewrecordDataList.length;i++){if(viewname===tableviewrecordDataList[i].id){activetableviewItem=tableviewrecordDataList[i];}console.log(activetableviewItem);}if(activetableviewItem.keycondition.expression===\"beginswith\"){datasortparambeginswith=activetableviewItem.keycondition.value.replacetext;for(j in activetableviewItem.keycondition.value.replaceparams){if(activetableviewItem.keycondition.value.replaceparams[j].type===\"localdata\"){console.log(localdata);datasortparambeginswith=datasortparambeginswith.replace(j,localdata[activetableviewItem.keycondition.value.replaceparams[j].name]);}}console.log(datasortparambeginswith);}if(activetableviewItem.keycondition.expression===\"equalsto\"){}console.log(datasortparambeginswith);if(datasortparamequalsto!=\"\"){dataParams={objectName:tablename,objectData:{},keyConditions:[{field:\"orgname\",value:localdata.orgname,expression:\"=\"},{field:\"id\",value:datasortparamequalsto,expression:\"=\"}],filterConditions:[],pageSize:\"\",limit:\"\",exclusiveStartKey:\"\"};}if(datasortparambeginswith!=\"\"){dataParams={objectName:tablename,objectData:{},keyConditions:[{field:\"orgname\",value:localdata.orgname,expression:\"=\"},{field:\"id\",value:datasortparambeginswith,expression:\"beginswith\"}],filterConditions:[],pageSize:\"\",limit:\"\",exclusiveStartKey:\"\"};}_context2.next=25;return getRecorddata(dataParams);case 25:dataresult=_context2.sent;if(dataresult.isSuccess===\"false\"){alert(\"data\"+dataresult.message);}else{//  let recordDataList = dataresult.dataprops.Items;\n//  console.log(recordDataList);\nrecordDataList=filterArraybyObject({data:dataresult.dataprops.Items,filter:defaultdatafilter});console.log(recordDataList);this.setState({showUI:false},function(){if(recordDataList.length>0){if(clickedrecordid==\"\"){clickedrecordid=recordDataList[0][recordviewfieldname];}_this2.setState({recordDataList:recordDataList,activetableviewItem:activetableviewItem,clickedrecordid:clickedrecordid,showUI:true,action:\"view\"});}else{_this2.setState({recordDataList:[],activetableviewItem:activetableviewItem,showUI:true,action:\"list\"});}});}case 27:case\"end\":return _context2.stop();}}},_callee2,this);}));function getRecordListMetadataAndDatafromServer(_x){return _getRecordListMetadataAndDatafromServer.apply(this,arguments);}return getRecordListMetadataAndDatafromServer;}()},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,recordDataList=_this$state.recordDataList,activetableviewItem=_this$state.activetableviewItem,windowtype=_this$state.windowtype,clickedrecordid=_this$state.clickedrecordid,showUI=_this$state.showUI,action=_this$state.action,multiselectclickedrecordids=_this$state.multiselectclickedrecordids;var _this$props$compprops4=this.props.compprops,recordviewfieldname=_this$props$compprops4.recordviewfieldname,showrecordeditview=_this$props$compprops4.showrecordeditview,listdisplaytype=_this$props$compprops4.listdisplaytype;var recordeditviewprops=this.props.compprops.recordeditviewprops;console.log(multiselectclickedrecordids);console.log(activetableviewItem);var buttonsHtml=[];var columns,buttons;if(activetableviewItem.data){columns=activetableviewItem.data.columns;buttons=activetableviewItem.data.buttons;}console.log(buttons);if(buttons&&Object.keys(buttons).length>0){for(var i in buttons){buttonsHtml.push(/*#__PURE__*/_jsx(\"button\",{\"data-name\":buttons[i].name,\"data-type\":buttons[i].name,onClick:function onClick(e){return _this3.clickHandler(e,{});},children:buttons[i].label}));}}console.log(this.props);var multiselectlistHtml=[];if(listdisplaytype===\"multiselectlist\"){if(recordDataList){for(var _i=0;_i<recordDataList.length;_i++){var isclicked=false;for(var j=0;j<multiselectclickedrecordids.length;j++){if(multiselectclickedrecordids[j]===recordDataList[_i].id){isclicked=true;}}if(isclicked===true){multiselectlistHtml.push(/*#__PURE__*/_jsx(\"div\",{\"data-name\":recordDataList[_i].id,\"data-type\":\"multiselectview\",onClick:function onClick(e){return _this3.clickHandler(e,{});},className:\"org-bluebg\",children:recordDataList[_i].label}));}else{multiselectlistHtml.push(/*#__PURE__*/_jsx(\"div\",{\"data-name\":recordDataList[_i].id,\"data-type\":\"multiselectview\",onClick:function onClick(e){return _this3.clickHandler(e,{});},children:recordDataList[_i].label}));}}}}return/*#__PURE__*/_jsx(_Fragment,{children:showUI===true?/*#__PURE__*/_jsxs(\"div\",{children:[windowtype===\"hsplit\"&&showrecordeditview===\"true\"?/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"org-flexbasis-100p org-mflexbasis-30p org-lflexbasis-30p \",children:[buttonsHtml,listdisplaytype===\"table\"?/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(Tablecomp,{compprops:{columns:columns,buttons:buttons,recordDataList:recordDataList,recordviewfieldname:recordviewfieldname},clickHandler:this.clickHandler,changeHanlder:this.changeHanlder})]}):/*#__PURE__*/_jsx(_Fragment,{}),listdisplaytype===\"multiselectlist\"?/*#__PURE__*/_jsx(\"div\",{className:\"org-fr\",children:multiselectlistHtml}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"org-flexbasis-100p org-mflexbasis-70p org-lflexbasis-70p  \",children:/*#__PURE__*/_jsx(Recorddataeditview,_objectSpread(_objectSpread({},this.props),{},{compprops:{tablename:recordeditviewprops.tablename,viewlayoutid:recordeditviewprops.viewlayoutid,editlayoutid:recordeditviewprops.editlayoutid,newlayoutid:recordeditviewprops.newlayoutid,action:action,recordid:clickedrecordid,idbeginswith:recordeditviewprops.idbeginswith//   defaultdatafilter: {},\n},styleprops:{width:\"100%\",height:\"30vh\",backgroundColor:\"\",overflow:\"auto\"},clickHandler:this.clickHandler,changeHanlder:this.changeHanlder}))})]}):\"\",windowtype===\"hsplit\"&&showrecordeditview!==\"true\"?/*#__PURE__*/_jsx(\"div\",{className:\"org-fr\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"org-flexbasis-100p org-mflexbasis-100p org-lflexbasis-100p \",children:[buttonsHtml,listdisplaytype===\"table\"?/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(Tablecomp,{compprops:{columns:columns,buttons:buttons,recordDataList:recordDataList,recordviewfieldname:recordviewfieldname},clickHandler:this.clickHandler,changeHanlder:this.changeHanlder})]}):/*#__PURE__*/_jsx(_Fragment,{}),listdisplaytype===\"multiselectlist\"?/*#__PURE__*/_jsx(\"div\",{className:\"org-fr\",children:multiselectlistHtml}):/*#__PURE__*/_jsx(_Fragment,{})]})}):\"\"]}):\"\"});}}]);return F;}(Component);export default F;","map":{"version":3,"sources":["/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/src/components/recorddatalistortable2.js"],"names":["React","Component","getRecorddata","createRecord","bulkcreateRecord","Tablecomp","getLocalData","serverButtonHandler","filterArraybyObject","GetFontAwesomeIcon","GetGoogleIcon","Recorddataeditview","F","props","clickHandler","e","multiselectclickedrecordids","state","dataset","target","compprops","tablename","viewname","defaulttableviewnamebeginswith","comphtmlid","type","setState","showUI","clickedrecordid","action","name","indexOf","pos","splice","push","createSyncEvent","data","getRecordListMetadataAndDatafromServer","recordid","changeHanlder","openwindow","windowtype","recordDataList","recordData","activetableviewItem","url","URL","document","location","console","log","recordeditviewprops","showallrecordsubscribe","parentobjectfilter","showallrecords","enablelocaldbdata","listdisplaytype","defaultdatafilter","recordviewfieldname","showrecordeditview","tableviewdataParams","dataParams","localdata","datasortparamequalsto","datasortparambeginswith","objectName","objectData","keyConditions","field","value","orgname","expression","filterConditions","pageSize","limit","exclusiveStartKey","tableviewdataresult","isSuccess","alert","message","tableviewrecordDataList","dataprops","Items","i","length","id","keycondition","replacetext","j","replaceparams","replace","dataresult","filter","buttonsHtml","columns","buttons","Object","keys","label","multiselectlistHtml","isclicked","viewlayoutid","editlayoutid","newlayoutid","idbeginswith","width","height","backgroundColor","overflow"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { getRecorddata, createRecord, bulkcreateRecord } from \"../db/index\";\nimport Tablecomp from \"./tablecomp2\";\nimport {\n  getLocalData,\n  serverButtonHandler,\n  filterArraybyObject,\n} from \"../js/index\";\nimport { GetFontAwesomeIcon, GetGoogleIcon } from \"./icons\";\nimport Recorddataeditview from \"./recorddataeditview2\";\n\nclass F extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      recordDataList: [],\n      recordData: {},\n      action: \"\",\n      activetableviewItem: {},\n      windowtype: \"hsplit\",\n      clickedrecordid: \"\",\n      showUI: false,\n      multiselectclickedrecordids: [],\n    };\n  }\n\n  async componentDidMount() {\n    let clickedrecordid = \"\";\n    let url = new URL(document.location);\n    console.log(url);\n    // var searchParams = new URLSearchParams(url.search);\n\n    // if (searchParams.get(\"id\")) {\n    //   clickedrecordid = searchParams.get(\"id\");\n    // }\n\n    let {\n      tablename,\n      comphtmlid,\n      recordeditviewprops,\n      showallrecordsubscribe,\n      parentobjectfilter,\n      showallrecords,\n      enablelocaldbdata,\n      listdisplaytype,\n      defaultdatafilter,\n      viewname,\n      defaulttableviewnamebeginswith,\n      recordviewfieldname,\n      showrecordeditview,\n    } = this.props.compprops;\n    this.getRecordListMetadataAndDatafromServer({\n      tablename: tablename,\n      viewname: viewname,\n      defaulttableviewnamebeginswith: defaulttableviewnamebeginswith,\n      clickedrecordid: \"\",\n    });\n  }\n\n  async getRecordListMetadataAndDatafromServer(props) {\n    let { recordviewfieldname, defaultdatafilter } = this.props.compprops;\n    let {\n      tablename,\n      viewname,\n      defaulttableviewnamebeginswith,\n      clickedrecordid,\n    } = props;\n    let tableviewdataParams = {};\n    let dataParams = {};\n    let localdata = getLocalData(this.props);\n\n    let datasortparamequalsto = \"\",\n      datasortparambeginswith = \"\";\n\n    tableviewdataParams = {\n      objectName: \"tableview2\",\n      objectData: {},\n      keyConditions: [\n        {\n          field: \"orgname\",\n          value: localdata.orgname,\n          expression: \"=\",\n        },\n        {\n          field: \"id\",\n          value: defaulttableviewnamebeginswith,\n          expression: \"beginswith\",\n        },\n      ],\n      filterConditions: [],\n      pageSize: \"\",\n      limit: \"\",\n      exclusiveStartKey: \"\",\n    };\n    console.log(tableviewdataParams);\n    let tableviewdataresult = await getRecorddata(tableviewdataParams);\n    if (tableviewdataresult.isSuccess === \"false\") {\n      alert(\"data\" + tableviewdataresult.message);\n    } else {\n      let tableviewrecordDataList = tableviewdataresult.dataprops.Items;\n      console.log(tableviewrecordDataList);\n      let activetableviewItem;\n      for (let i = 0; i < tableviewrecordDataList.length; i++) {\n        if (viewname === tableviewrecordDataList[i].id) {\n          activetableviewItem = tableviewrecordDataList[i];\n        }\n        console.log(activetableviewItem);\n      }\n      if (activetableviewItem.keycondition.expression === \"beginswith\") {\n        datasortparambeginswith =\n          activetableviewItem.keycondition.value.replacetext;\n\n        for (let j in activetableviewItem.keycondition.value.replaceparams) {\n          if (\n            activetableviewItem.keycondition.value.replaceparams[j].type ===\n            \"localdata\"\n          ) {\n            console.log(localdata);\n            datasortparambeginswith = datasortparambeginswith.replace(\n              j,\n              localdata[\n                activetableviewItem.keycondition.value.replaceparams[j].name\n              ]\n            );\n          }\n        }\n        console.log(datasortparambeginswith);\n      }\n      if (activetableviewItem.keycondition.expression === \"equalsto\") {\n      }\n      console.log(datasortparambeginswith);\n      if (datasortparamequalsto != \"\") {\n        dataParams = {\n          objectName: tablename,\n          objectData: {},\n          keyConditions: [\n            {\n              field: \"orgname\",\n              value: localdata.orgname,\n              expression: \"=\",\n            },\n            {\n              field: \"id\",\n              value: datasortparamequalsto,\n              expression: \"=\",\n            },\n          ],\n          filterConditions: [],\n          pageSize: \"\",\n          limit: \"\",\n          exclusiveStartKey: \"\",\n        };\n      }\n\n      if (datasortparambeginswith != \"\") {\n        dataParams = {\n          objectName: tablename,\n          objectData: {},\n          keyConditions: [\n            {\n              field: \"orgname\",\n              value: localdata.orgname,\n              expression: \"=\",\n            },\n            {\n              field: \"id\",\n              value: datasortparambeginswith,\n              expression: \"beginswith\",\n            },\n          ],\n          filterConditions: [],\n          pageSize: \"\",\n          limit: \"\",\n          exclusiveStartKey: \"\",\n        };\n      }\n\n      let dataresult = await getRecorddata(dataParams);\n      if (dataresult.isSuccess === \"false\") {\n        alert(\"data\" + dataresult.message);\n      } else {\n        //  let recordDataList = dataresult.dataprops.Items;\n        //  console.log(recordDataList);\n\n        let recordDataList = filterArraybyObject({\n          data: dataresult.dataprops.Items,\n          filter: defaultdatafilter,\n        });\n        console.log(recordDataList);\n        this.setState(\n          {\n            showUI: false,\n          },\n          () => {\n            if (recordDataList.length > 0) {\n              if (clickedrecordid == \"\") {\n                clickedrecordid = recordDataList[0][recordviewfieldname];\n              }\n              this.setState({\n                recordDataList: recordDataList,\n                activetableviewItem: activetableviewItem,\n                clickedrecordid: clickedrecordid,\n                showUI: true,\n                action: \"view\",\n              });\n            } else {\n              this.setState({\n                recordDataList: [],\n                activetableviewItem: activetableviewItem,\n                showUI: true,\n                action: \"list\",\n              });\n            }\n          }\n        );\n      }\n    }\n  }\n\n  clickHandler = (e, props) => {\n    let { multiselectclickedrecordids } = this.state;\n    let dataset = e.target.dataset;\n    let {\n      tablename,\n      viewname,\n      defaulttableviewnamebeginswith,\n      comphtmlid,\n    } = this.props.compprops;\n\n    if (dataset.type === \"new\") {\n      this.setState({ showUI: false }, () => {\n        this.setState({ clickedrecordid: \"\", showUI: true, action: \"new\" });\n      });\n    }\n    if (dataset.type === \"view\") {\n      this.setState({ showUI: false }, () => {\n        this.setState({\n          clickedrecordid: dataset.name,\n          showUI: true,\n          action: \"view\",\n        });\n      });\n    }\n    if (dataset.type === \"multiselectview\") {\n      if (multiselectclickedrecordids.indexOf(dataset.name) !== -1) {\n        let pos = multiselectclickedrecordids.indexOf(dataset.name);\n        multiselectclickedrecordids.splice(pos, 1);\n      } else {\n        multiselectclickedrecordids.push(dataset.name);\n      }\n      this.setState({ showUI: false }, () => {\n        this.setState({\n          multiselectclickedrecordids: multiselectclickedrecordids,\n          showUI: true,\n          action: \"multiselectview\",\n        });\n        this.props.createSyncEvent({\n          comphtmlid: comphtmlid,\n          data: { multiselectclickedrecordids: multiselectclickedrecordids },\n        });\n      });\n    }\n    if (dataset.name === \"new-create\" || dataset.name === \"edit-save\") {\n      this.getRecordListMetadataAndDatafromServer({\n        tablename: tablename,\n        viewname: viewname,\n        defaulttableviewnamebeginswith: defaulttableviewnamebeginswith,\n        clickedrecordid: props.recordid,\n      });\n    }\n  };\n\n  changeHanlder = (e) => {\n    // let dataset = e.target.dataset;\n    // let { recordData } = props;\n    // console.log(recordData);\n  };\n\n  openwindow = (props) => {\n    let { type } = props;\n    this.setState({ windowtype: type });\n  };\n\n  render() {\n    let {\n      recordDataList,\n      activetableviewItem,\n      windowtype,\n      clickedrecordid,\n      showUI,\n      action,\n      multiselectclickedrecordids,\n    } = this.state;\n    let {\n      recordviewfieldname,\n      showrecordeditview,\n      listdisplaytype,\n    } = this.props.compprops;\n    let recordeditviewprops = this.props.compprops.recordeditviewprops;\n\n    console.log(multiselectclickedrecordids);\n    console.log(activetableviewItem);\n    let buttonsHtml = [];\n    let columns, buttons;\n\n    if (activetableviewItem.data) {\n      columns = activetableviewItem.data.columns;\n      buttons = activetableviewItem.data.buttons;\n    }\n    console.log(buttons);\n    if (buttons && Object.keys(buttons).length > 0) {\n      for (let i in buttons) {\n        buttonsHtml.push(\n          <button\n            data-name={buttons[i].name}\n            data-type={buttons[i].name}\n            onClick={(e) => this.clickHandler(e, {})}\n          >\n            {buttons[i].label}\n          </button>\n        );\n      }\n    }\n    console.log(this.props);\n    let multiselectlistHtml = [];\n    if (listdisplaytype === \"multiselectlist\") {\n      if (recordDataList) {\n        for (let i = 0; i < recordDataList.length; i++) {\n          let isclicked = false;\n          for (let j = 0; j < multiselectclickedrecordids.length; j++) {\n            if (multiselectclickedrecordids[j] === recordDataList[i].id) {\n              isclicked = true;\n            }\n          }\n          if (isclicked === true) {\n            multiselectlistHtml.push(\n              <div\n                data-name={recordDataList[i].id}\n                data-type=\"multiselectview\"\n                onClick={(e) => this.clickHandler(e, {})}\n                className=\"org-bluebg\"\n              >\n                {recordDataList[i].label}\n              </div>\n            );\n          } else {\n            multiselectlistHtml.push(\n              <div\n                data-name={recordDataList[i].id}\n                data-type=\"multiselectview\"\n                onClick={(e) => this.clickHandler(e, {})}\n              >\n                {recordDataList[i].label}\n              </div>\n            );\n          }\n        }\n      }\n    }\n\n    return (\n      <>\n        {showUI === true ? (\n          <div>\n            {/* <div className=\"org-fr\">\n              <div\n                onClick={() => {\n                  this.openwindow({ type: \"hsplit\" });\n                }}\n              >\n                hspilt\n              </div>\n              <div\n                onClick={() => {\n                  this.openwindow({ type: \"vsplit\" });\n                }}\n              >\n                vspilt\n              </div>\n              <div\n                onClick={() => {\n                  this.openwindow({ type: \"over\" });\n                }}\n              >\n                overthewindow\n              </div>\n            </div> */}\n            {/* {windowtype === \"over\" ? (\n              <>\n                <Tablecomp\n                  compprops={{\n                    columns: columns,\n                    buttons: buttons,\n                    recordDataList: recordDataList,\n                  }}\n                />\n                <div\n                  style={{\n                    position: \"fixed\",\n                    right: 0,\n                    top: 0,\n                    width: \"40%\",\n                    height: \"100%\",\n                    backgroundColor: \"wheat\",\n                  }}\n                  className=\"sp\"\n                >\n                  <div className=\"org-fr org-fjc-e\">\n                    <div></div>\n                    <div>\n                      <GetFontAwesomeIcon name=\"close\" />\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              \"\"\n            )} */}\n            {windowtype === \"hsplit\" && showrecordeditview === \"true\" ? (\n              <div className=\"org-fr\">\n                <div className=\"org-flexbasis-100p org-mflexbasis-30p org-lflexbasis-30p \">\n                  {buttonsHtml}\n                  {listdisplaytype === \"table\" ? (\n                    <>\n                      {\" \"}\n                      <Tablecomp\n                        compprops={{\n                          columns: columns,\n                          buttons: buttons,\n                          recordDataList: recordDataList,\n                          recordviewfieldname: recordviewfieldname,\n                        }}\n                        clickHandler={this.clickHandler}\n                        changeHanlder={this.changeHanlder}\n                      />\n                    </>\n                  ) : (\n                    <></>\n                  )}\n                  {listdisplaytype === \"multiselectlist\" ? (\n                    <div className=\"org-fr\">{multiselectlistHtml}</div>\n                  ) : (\n                    <></>\n                  )}\n                </div>\n                <div className=\"org-flexbasis-100p org-mflexbasis-70p org-lflexbasis-70p  \">\n                  <Recorddataeditview\n                    {...this.props}\n                    compprops={{\n                      tablename: recordeditviewprops.tablename,\n                      viewlayoutid: recordeditviewprops.viewlayoutid,\n                      editlayoutid: recordeditviewprops.editlayoutid,\n                      newlayoutid: recordeditviewprops.newlayoutid,\n                      action: action,\n                      recordid: clickedrecordid,\n                      idbeginswith: recordeditviewprops.idbeginswith,\n                      //   defaultdatafilter: {},\n                    }}\n                    styleprops={{\n                      width: \"100%\",\n                      height: \"30vh\",\n                      backgroundColor: \"\",\n                      overflow: \"auto\",\n                    }}\n                    clickHandler={this.clickHandler}\n                    changeHanlder={this.changeHanlder}\n                  />\n                </div>\n              </div>\n            ) : (\n              \"\"\n            )}\n            {windowtype === \"hsplit\" && showrecordeditview !== \"true\" ? (\n              <div className=\"org-fr\">\n                <div className=\"org-flexbasis-100p org-mflexbasis-100p org-lflexbasis-100p \">\n                  {buttonsHtml}\n                  {listdisplaytype === \"table\" ? (\n                    <>\n                      {\" \"}\n                      <Tablecomp\n                        compprops={{\n                          columns: columns,\n                          buttons: buttons,\n                          recordDataList: recordDataList,\n                          recordviewfieldname: recordviewfieldname,\n                        }}\n                        clickHandler={this.clickHandler}\n                        changeHanlder={this.changeHanlder}\n                      />\n                    </>\n                  ) : (\n                    <></>\n                  )}\n                  {listdisplaytype === \"multiselectlist\" ? (\n                    <div className=\"org-fr\">{multiselectlistHtml}</div>\n                  ) : (\n                    <></>\n                  )}\n                </div>\n              </div>\n            ) : (\n              \"\"\n            )}\n            {/* {windowtype === \"vsplit\" ? (\n              <>\n                <div style={{ height: \"30vh\", overflow: \"auto\" }}>\n                  <Tablecomp\n                    compprops={{\n                      columns: columns,\n                      buttons: buttons,\n                      recordDataList: recordDataList,\n                    }}\n                  />\n                  <Tablecomp\n                    compprops={{\n                      columns: columns,\n                      buttons: buttons,\n                      recordDataList: recordDataList,\n                    }}\n                  />\n                  <Tablecomp\n                    compprops={{\n                      columns: columns,\n                      buttons: buttons,\n                      recordDataList: recordDataList,\n                    }}\n                  />\n                </div>\n                <div className=\"org-fr org-fjc-e org-fai-c org-redbg\">\n                  <div></div>\n                  <div>\n                    <GetFontAwesomeIcon name=\"close\" />\n                  </div>\n                </div>\n              </>\n            ) : (\n              \"\"\n            )} */}\n          </div>\n        ) : (\n          \"\"\n        )}\n      </>\n    );\n  }\n}\n\nexport default F;\n"]},"metadata":{},"sourceType":"module"}