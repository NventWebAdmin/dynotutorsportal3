{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import imgLogin from\"../../images/mountain.jpg\";import Htmlform from\"../htmlformnew\";import Iconbar from\"../iconbar\";import Spinner from\"../spinner\";import Nofification from\"../notification\";import{signin,refreshtoken,signup,resetPassword,signInwithGoogle,getUserProfile,signInwithFacebook}from\"../../auth/index\";import{showError,getLocalData}from\"../../js/index\";import{getRecorddata,createRecord// bulkcreateRecord,\n,updateRecord}from\"../../db/index\";//import { sendMail } from \"../../js/mail\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var F=/*#__PURE__*/function(_Component){_inherits(F,_Component);var _super=_createSuper(F);function F(_props){var _this;_classCallCheck(this,F);_this=_super.call(this,_props);_this.activateUser=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var localdata,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:localdata=getLocalData(_this.props);_context.next=3;return updateRecord({objectName:\"user\",objectPrimaryKeyValue:{orgname:localdata.defaultorgname,id:\"usr-pradeepy\"},objectData:{isactive:\"true\",lastupdateduserid:localdata.defaultadminuserid}});case 3:result=_context.sent;if(result.isSuccess===\"false\"){}case 5:case\"end\":return _context.stop();}}},_callee);}));_this.signinOnClk=function(event){// let isSuccessfulLogin = false;\n// if (isSuccessfulLogin) {\n//     this.props.history.push(\"/\");\n// }\n// else {\n//     console.log(this.props);\n//     this.props.setUserNotification({ \"test\": \"test\" });\n// }\nif(_this.validate()){_this.props.setUserNotification({id:_this.props.reduxprops.reduxDetails.user.userDetails.id+\"compname1\",type:\"error\",message:\"invalid data\"});_this.props.setUserNotification({id:_this.props.userDetails.user.userDetails.id+\"compname2\",type:\"warning\",message:\"not suitatble\"});_this.props.setUserNotification({id:_this.props.userDetails.user.userDetails.id+\"compname3\",type:\"information\",message:\"redirecting to home page\"});_this.props.setUserNotification({id:_this.props.userDetails.user.userDetails.id+\"compname4\",type:\"confirmation\",message:\"are you sure ?\"});}else{// this.props.setUserNotification({ \"id\": this.props.userDetails.user.userDetails.id + \"compname1\", \"type\": \"\", \"message\": \"\" });\n// this.props.setUserNotification({ \"id\": this.props.userDetails.user.userDetails.id + \"compname2\", \"type\": \"\", \"message\": \"\" });\n// this.props.setUserNotification({ \"id\": this.props.userDetails.user.userDetails.id + \"compname3\", \"type\": \"\", \"message\": \"\" });\n// this.props.setUserNotification({ \"id\": this.props.userDetails.user.userDetails.id + \"compname4\", \"type\": \"\", \"message\": \"\" });\n// this.props.setIsUserAuthenticated({ \"isUserAuthenticated\": \"true\" });\nconsole.log(_this.props);_this.props.reduxprops.logInUser({username:_this.state.username,password:_this.state.password});// sessionStorage.setItem(\"isUserAuthenticated\", true);\n//this.props.history.push(\"/\");\nconsole.log(window.location);if(window.location.href.includes(\"signin\")){window.location.assign(\"/\");//this.props.history.push(\"/\");\n}else{window.location.assign(window.location);// this.props.history.push(window.location.pathname);\n}}};_this.inputChanged=function(e,props){console.log(props);var inputLabel=props.inputLabel,inputName=props.inputName,inputType=props.inputType,clientstatename=props.clientstatename,clientstatetype=props.clientstatetype,inputValue=props.inputValue;console.log(inputLabel);console.log(inputType);console.log(clientstatename);console.log(clientstatetype);if(inputName===\"username\"){_this.setState({username:inputValue});}if(inputName===\"password\"){_this.setState({password:inputValue});}if(inputName===\"registerfirstname\"){_this.setState({registerfirstname:inputValue});}if(inputName===\"registerusername\"){_this.setState({registerusername:inputValue});}if(inputName===\"registerlastname\"){_this.setState({registerlastname:inputValue});}if(inputName===\"registeremail\"){_this.setState({registeremail:inputValue});}if(inputName===\"registerpassword\"){_this.setState({registerpassword:inputValue});}if(inputName===\"registerconfirmpassword\"){_this.setState({registerconfirmpassword:inputValue});}if(inputName===\"registerphone\"){_this.setState({registerphone:inputValue});}if(inputName===\"forgotemail\"){_this.setState({forgotemail:inputValue});}if(inputName===\"registeras\"){_this.setState({registeras:e.target.value});}};_this.inputKeyUp=function(e){console.log(e.keyCode);console.log(e.target.dataset.name);console.log(e.target.value);if(e.keyCode===13){signin({username:_this.state.username,password:_this.state.password,props:_this.props});}};_this.clkHandler=function(props){var buttonName=props.buttonName;console.log(buttonName);if(buttonName===\"signin\"){console.log(buttonName);_this.loginHandlerAsync(\"signin\");}if(buttonName===\"signup\"){console.log(_this.props);// this.props.routerprops.history.push(\"/signup\");\n//  this.setState({ isModalOpen: \"true\" });\nwindow.open(\"/signup\",\"_self\");}if(buttonName===\"forgotpassword\"){console.log(_this.props);// this.props.routerprops.history.push(\"/forgotpassword\");\n//  this.setState({ isModalOpen: \"true\" });\nwindow.open(\"/forgotpassword\",\"_self\");}if(buttonName===\"signupcancel\"){console.log(_this.props);//  this.props.routerprops.history.push(\"/\");\nwindow.open(\"/\",\"_self\");}if(buttonName===\"signupregister\"){console.log(_this.props);_this.loginHandlerAsync(\"signup\");//  this.setState({ isModalOpen: \"false\" });\n// signup({\n//   username: this.state.registeremail,\n//   password: this.state.registerpassword,\n//   props: this.props,\n// });\n}if(buttonName===\"forgotpasswordcancel\"){console.log(_this.props);//  this.props.routerprops.history.push(\"/\");\nwindow.open(\"/\",\"_self\");}if(buttonName===\"forgotpasswordsubmit\"){console.log(_this.props);//  this.setState({ isModalOpen: \"false\" });\n_this.loginHandlerAsync(\"forgotpassword\");}if(buttonName===\"facebooklogin\"){_this.loginHandlerAsync(\"facebooklogin\");}if(buttonName===\"googlelogin\"){_this.loginHandlerAsync(\"googlelogin\");}if(buttonName===\"amazonlogin\"){_this.loginHandlerAsync(\"amazonlogin\");}if(buttonName===\"facebooksignup\"){_this.loginHandlerAsync(\"facebooksignup\");}if(buttonName===\"googlesignup\"){_this.loginHandlerAsync(\"googlesignup\");}if(buttonName===\"amazonsignup\"){_this.loginHandlerAsync(\"amazonsignup\");}};_this.setNotification=function(props){var msg=props.msg;_this.setState({showNotification:\"false\",notificationMessages:[]},function(){return _this.setState({showNotification:\"true\",notificationMessages:[{name:\"message1\",message:msg,type:\"info\"}]});});};_this.createUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(props){var localdata,email,firstname,lastname,phone,registeras,id,userprofileid,recorddata,result,signinrecorddata,signinresult;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:localdata=getLocalData(_this.props);email=props.email,firstname=props.firstname,lastname=props.lastname,phone=props.phone,registeras=props.registeras;id=\"usr-\"+lastname+firstname;userprofileid=registeras?registeras:localdata.defaultuserprofileid;recorddata={label:lastname+\" \"+firstname,isactive:\"true\",createduserid:localdata.defaultadminuserid,lastupdateduserid:localdata.defaultadminuserid,orgname:localdata.defaultorgname,id:id.replace(\" \",\"\"),email:email,firstname:firstname,lastname:lastname,phone:phone,userprofileid:userprofileid};alert(userprofileid);_context2.next=8;return createRecord({objectName:\"user\",objectData:recorddata});case 8:result=_context2.sent;if(!(result.isSuccess===\"false\")){_context2.next=13;break;}alert(result.message);_context2.next=18;break;case 13:signinrecorddata={label:lastname+firstname,isactive:\"true\",createduserid:localdata.defaultadminuserid,lastupdateduserid:localdata.defaultadminuserid,orgname:localdata.defaultorgname,id:email,userid:id.replace(\" \",\"\")};_context2.next=16;return createRecord({objectName:\"usersignin\",objectData:signinrecorddata});case 16:signinresult=_context2.sent;if(signinresult.isSuccess===\"false\"){alert(result.message);}else{_this.setNotification({msg:\"User is created, please signin\"});setTimeout(function(){window.location.assign(\"/\");},3000);}case 18:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.getUserfromDatabase=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(props){var orgemail,result,d,tokenexpiryTime,d2,dataParams,dataresult,userdataParams,userdataresult,usersignin;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:orgemail=props.orgemail,result=props.result;d=new Date();tokenexpiryTime=parseInt(d.getTime())+parseInt(result.dataprops.expiresIn)*1000;d2=new Date(parseInt(tokenexpiryTime));console.log(d2);dataParams={objectName:\"usersignin\",objectData:{},keyConditions:[{field:\"orgname\",value:\"postpaidtutors\",expression:\"=\"},{field:\"id\",value:orgemail,expression:\"=\"}],filterConditions:[],pageSize:\"\",limit:\"\",exclusiveStartKey:\"\"};_this.setState({showSpinner:\"true\"});_context3.next=9;return getRecorddata(dataParams);case 9:dataresult=_context3.sent;if(!(dataresult.isSuccess===\"false\")){_context3.next=15;break;}_this.setState({showSpinner:\"false\"});alert(\"data\"+dataresult.message);_context3.next=58;break;case 15:_this.setState({showSpinner:\"false\"});if(!(dataresult.dataprops.Items.length>0)){_context3.next=56;break;}userdataParams={objectName:\"user\",objectData:{},keyConditions:[{field:\"orgname\",value:\"postpaidtutors\",expression:\"=\"},{field:\"id\",value:dataresult.dataprops.Items[0].userid,expression:\"=\"}],filterConditions:[],pageSize:\"\",limit:\"\",exclusiveStartKey:\"\"};_this.setState({showSpinner:\"true\"});_context3.next=21;return getRecorddata(userdataParams);case 21:userdataresult=_context3.sent;if(!(userdataresult.isSuccess===\"false\")){_context3.next=27;break;}_this.setState({showSpinner:\"false\"});alert(\"data\"+userdataresult.message);_context3.next=54;break;case 27:_this.setState({showSpinner:\"false\"});console.log(userdataresult.dataprops.Items);if(!(userdataresult.dataprops.Items.length>0)){_context3.next=52;break;}usersignin=userdataresult.dataprops.Items[0];_context3.next=33;return sessionStorage.setItem(\"orgemail\",orgemail);case 33:_context3.next=35;return sessionStorage.setItem(\"orgexpiresAt\",tokenexpiryTime);case 35:_context3.next=37;return sessionStorage.setItem(\"orgidToken\",result.dataprops.idToken);case 37:_context3.next=39;return sessionStorage.setItem(\"orgrefreshToken\",result.dataprops.refreshToken);case 39:_context3.next=41;return sessionStorage.setItem(\"orgname\",usersignin.orgname);case 41:_context3.next=43;return sessionStorage.setItem(\"userid\",usersignin.id);case 43:_context3.next=45;return sessionStorage.setItem(\"userprofileid\",usersignin.userprofileid);case 45:_context3.next=47;return sessionStorage.setItem(\"userroleid\",usersignin.userroleid);case 47:_context3.next=49;return sessionStorage.setItem(\"appname\",usersignin.defaultappname);case 49:window.location.assign(window.location);_context3.next=54;break;case 52:_this.setNotification({msg:\"Please Signup and Login\"});setTimeout(function(){window.location.assign(\"/signup\");},5000);case 54:_context3.next=58;break;case 56:_this.setNotification({msg:\"Please Signup and Login\"});setTimeout(function(){window.location.assign(\"/signup\");},5000);case 58:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}();_this.validate=function(e){var iserror=false;_this.inputcompref1.current.validate();_this.inputcompref2.current.validate();iserror=_this.inputcompref1.current.validate()||_this.inputcompref2.current.validate();return iserror;};_this.continueSession=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var result,d,tokenexpiryTime,d2,errorArray,isFieldError;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return refreshtoken({refreshtoken:sessionStorage.getItem(\"orgrefreshToken\")});case 2:result=_context4.sent;if(!(result.isSuccess===\"true\")){_context4.next=16;break;}d=new Date();tokenexpiryTime=parseInt(d.getTime())+parseInt(result.dataprops.expires_in)*1000;d2=new Date(parseInt(tokenexpiryTime));console.log(d2);_context4.next=10;return sessionStorage.setItem(\"orgemail\",result.dataprops.email);case 10:_context4.next=12;return sessionStorage.setItem(\"orgexpiresAt\",tokenexpiryTime);case 12:_context4.next=14;return sessionStorage.setItem(\"orgidToken\",result.dataprops.access_token);case 14:_context4.next=16;return sessionStorage.setItem(\"orgrefreshToken\",result.dataprops.refresh_token);case 16:if(result.isSuccess===\"false\"){errorArray=[];isFieldError=false;if(result.message.includes(\"EMAIL\")){isFieldError=true;errorArray.push({name:\"username\",message:result.message});}if(result.message.includes(\"PASSWORD\")){isFieldError=true;errorArray.push({name:\"password\",message:result.message});}showError(errorArray);console.log(isFieldError);if(isFieldError!==true){_this.setNotification({msg:result.message});}}if(window.location.href.includes(\"signin\")){window.location.assign(\"/\");}else{window.location.assign(window.location);}case 18:case\"end\":return _context4.stop();}}},_callee4);}));_this.cancelSession=function(){sessionStorage.clear();window.location.assign(window.location);};_this.state={showSpinner:\"false\"};return _this;}_createClass(F,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var _this$props,action,isrefreshtoken;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_this$props=this.props,action=_this$props.action,isrefreshtoken=_this$props.isrefreshtoken;console.log(isrefreshtoken);if(action===\"activateuser\"){this.activateUser();}case 3:case\"end\":return _context5.stop();}}},_callee5,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"loginHandlerAsync\",value:function(){var _loginHandlerAsync=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(action){var result,_this$state,username,password,registeras,orgemail,props,errorArray,isFieldError,_errorArray,_isFieldError,_errorArray2,_isFieldError2,_errorArray3,_result,_orgemail,_props2,_errorArray4,_isFieldError3,_result2,_orgemail2,_props3,_errorArray5,_isFieldError4,_result3,_orgemail3,_props4,userprofileresult,_errorArray6,_isFieldError5;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log(action);console.log(this.state);result={};_this$state=this.state,username=_this$state.username,password=_this$state.password,registeras=_this$state.registeras;if(!(action===\"signin\")){_context6.next=19;break;}if(username){_context6.next=9;break;}showError([{name:\"username\",message:\"please enter valid username\"}]);_context6.next=19;break;case 9:if(password){_context6.next=13;break;}showError([{name:\"password\",message:\"please enter valid password\"}]);_context6.next=19;break;case 13:this.setState({showSpinner:\"true\"});_context6.next=16;return signin({username:username,password:password,props:this.props});case 16:result=_context6.sent;if(result.isSuccess===\"true\"){this.setState({showSpinner:\"false\"});if(result.dataprops.registered!==\"true\"&&result.dataprops.registered!==true){this.setNotification({msg:\"please click on link in verifacation mail to login \"});}else{orgemail=result.dataprops.email;this.setState({showSpinner:\"true\"});props={orgemail:orgemail,result:result};this.getUserfromDatabase(props);}}if(result.isSuccess===\"false\"){this.setState({showSpinner:\"false\"});errorArray=[];isFieldError=false;if(result.message.includes(\"EMAIL\")){isFieldError=true;errorArray.push({name:\"username\",message:result.message});}if(result.message.includes(\"PASSWORD\")){isFieldError=true;errorArray.push({name:\"password\",message:result.message});}showError(errorArray);if(isFieldError!==true){this.setNotification({msg:result.message});}}case 19:if(!(action===\"signup\")){_context6.next=49;break;}if(this.state.registeremail){_context6.next=24;break;}showError([{name:\"registeremail\",message:\"please enter valid username\"}]);_context6.next=49;break;case 24:if(this.state.registerpassword){_context6.next=28;break;}showError([{name:\"registerpassword\",message:\"please enter valid password\"}]);_context6.next=49;break;case 28:if(this.state.registerconfirmpassword){_context6.next=32;break;}showError([{name:\"registerconfirmpassword\",message:\"please enter valid confirm password\"}]);_context6.next=49;break;case 32:if(!(this.state.registerconfirmpassword&&this.state.registerconfirmpassword!==this.state.registerpassword)){_context6.next=36;break;}showError([{name:\"registerconfirmpassword\",message:\"password not matching\"}]);_context6.next=49;break;case 36:if(this.state.registeremail){_context6.next=40;break;}showError([{name:\"registeremail\",message:\"please enter valid email\"}]);_context6.next=49;break;case 40:if(this.state.registerfirstname){_context6.next=44;break;}showError([{name:\"registerfirstname\",message:\"please enter firstname\"}]);_context6.next=49;break;case 44:_context6.next=46;return signup({userState:this.state,props:this.props});case 46:result=_context6.sent;console.log(result);if(result.isSuccess===\"false\"){_errorArray=[];_isFieldError=false;if(result.message.includes(\"EMAIL\")){_isFieldError=true;_errorArray.push({name:\"registeremail\",message:result.message});}if(result.message.includes(\"PASSWORD\")){_isFieldError=true;_errorArray.push({name:\"registerpassword\",message:result.message});}showError(_errorArray);console.log(_isFieldError);if(_isFieldError!==true){this.setNotification({msg:result.message});}}else{this.createUser({email:this.state.registeremail,firstname:this.state.registerfirstname,lastname:this.state.registerlastname?this.state.registerlastname:\"\",phone:this.state.registerphone,registeras:registeras});// setTimeout(function () {\n//   window.location.assign(\"/\");\n// }, 3000);\n}case 49:if(!(action===\"forgotpassword\")){_context6.next=59;break;}if(this.state.forgotemail){_context6.next=54;break;}showError([{name:\"forgotemail\",message:\"please enter email\"}]);_context6.next=59;break;case 54:_context6.next=56;return resetPassword({userState:this.state,props:this.props});case 56:result=_context6.sent;console.log(result);if(result.isSuccess===\"false\"){_errorArray2=[];_isFieldError2=false;if(result.message.includes(\"email\")){_isFieldError2=true;_errorArray2.push({name:\"forgotemail\",message:result.message});}showError(_errorArray2);console.log(_isFieldError2);if(_isFieldError2!==true){this.setNotification({msg:result.message});}}else{_errorArray3=[];showError(_errorArray3);this.setNotification({msg:\"Reset Password Email sent\"});setTimeout(function(){window.location.assign(\"/\");},3000);}case 59:if(!(action===\"facebooklogin\")){_context6.next=66;break;}this.setState({showSpinner:\"true\"});_context6.next=63;return signInwithFacebook();case 63:_result=_context6.sent;if(_result.isSuccess===\"true\"){this.setState({showSpinner:\"false\"});_orgemail=_result.dataprops.email;_props2={orgemail:_orgemail,result:_result};console.log(_props2);//  this.getUserfromDatabase(props);\n}if(_result.isSuccess===\"false\"){this.setState({showSpinner:\"false\"});_errorArray4=[];_isFieldError3=false;if(_result.message.includes(\"EMAIL\")){_isFieldError3=true;_errorArray4.push({name:\"username\",message:_result.message});}if(_result.message.includes(\"PASSWORD\")){_isFieldError3=true;_errorArray4.push({name:\"password\",message:_result.message});}showError(_errorArray4);if(_isFieldError3!==true){this.setNotification({msg:_result.message});}}case 66:if(!(action===\"googlelogin\")){_context6.next=73;break;}this.setState({showSpinner:\"true\"});_context6.next=70;return signInwithGoogle();case 70:_result2=_context6.sent;if(_result2.isSuccess===\"true\"){this.setState({showSpinner:\"false\"});_orgemail2=_result2.dataprops.email;_props3={orgemail:_orgemail2,result:_result2};console.log(_result2.dataprops.emailVerified);this.getUserfromDatabase(_props3);}if(_result2.isSuccess===\"false\"){this.setState({showSpinner:\"false\"});_errorArray5=[];_isFieldError4=false;if(_result2.message.includes(\"EMAIL\")){_isFieldError4=true;_errorArray5.push({name:\"username\",message:_result2.message});}if(_result2.message.includes(\"PASSWORD\")){_isFieldError4=true;_errorArray5.push({name:\"password\",message:_result2.message});}showError(_errorArray5);if(_isFieldError4!==true){this.setNotification({msg:_result2.message});}}case 73:if(!(action===\"googlesignup\")){_context6.next=88;break;}this.setState({showSpinner:\"true\"});_context6.next=77;return signInwithGoogle();case 77:_result3=_context6.sent;if(!(_result3.isSuccess===\"true\")){_context6.next=87;break;}this.setState({showSpinner:\"false\"});_orgemail3=_result3.dataprops.email;_props4={orgemail:_orgemail3,result:_result3};console.log(_props4);_context6.next=85;return getUserProfile({idToken:_result3.dataprops.idToken});case 85:userprofileresult=_context6.sent;if(userprofileresult.isSuccess===\"true\"){this.createUser({email:_orgemail3,firstname:userprofileresult.dataprops.name,lastname:\"\",phone:userprofileresult.dataprops.phone?userprofileresult.dataprops.phone:\"\",registeras:registeras});}case 87:if(_result3.isSuccess===\"false\"){this.setState({showSpinner:\"false\"});_errorArray6=[];_isFieldError5=false;if(_result3.message.includes(\"EMAIL\")){_isFieldError5=true;_errorArray6.push({name:\"username\",message:_result3.message});}if(_result3.message.includes(\"PASSWORD\")){_isFieldError5=true;_errorArray6.push({name:\"password\",message:_result3.message});}showError(_errorArray6);if(_isFieldError5!==true){this.setNotification({msg:_result3.message});}}case 88:if(action===\"amazonlogin\"){}// sessionStorage.setItem(\"isUserAuthenticated\", \"true\");\n// if (window.location.href.includes(\"signin\")) {\n//   window.location.assign(\"/\");\n// } else {\n//   window.location.assign(window.location);\n// }\nreturn _context6.abrupt(\"return\",result);case 90:case\"end\":return _context6.stop();}}},_callee6,this);}));function loginHandlerAsync(_x3){return _loginHandlerAsync.apply(this,arguments);}return loginHandlerAsync;}()},{key:\"render\",value:function render(){var _this2=this;console.log(this.state);var dataprops={};var showSpinner=this.state.showSpinner;var _this$props2=this.props,action=_this$props2.action,isrefreshtoken=_this$props2.isrefreshtoken;var refreshTokenHtml=[];if(isrefreshtoken===true||isrefreshtoken===\"true\"){refreshTokenHtml.push(/*#__PURE__*/_jsx(\"div\",{children:\"Session Loggin out Click on Ok to continue session, cancel to logout\"}));refreshTokenHtml.push(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.continueSession,children:\"Continue Session\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.cancelSession,children:\"Logout\"})]}));}if(action===\"activateuser\"){}else{var loginIconsHtml=[];var iconarray=[// {\n//   label: \"Label1\",\n//   name: \"facebooklogin\",\n//   iconName: \"facebook\",\n//   iconSource: \"fontaway\",\n// },\n{label:\"Label2\",name:\"googlelogin\",iconName:\"google\",iconSource:\"fontaway\"}// {\n//   label: \"Label2\",\n//   name: \"amazonlogin\",\n//   iconName: \"amazon\",\n//   iconSource: \"fontaway\",\n// },\n];loginIconsHtml.push(/*#__PURE__*/_jsx(Iconbar,{iconarray:iconarray,isHorizontol:\"true\",style:{width:\"\"},iconPadding:\"1vw\",iconClk:this.clkHandler}));dataprops=[{label:\"User Name\",name:\"username\",type:\"inputtext\",width:\"100%\",placeholder:\"\",required:\"true\",tabname:\"1\"},{label:\"Password\",name:\"password\",type:\"inputpassword\",width:\"100%\",placeholder:\"\",required:\"true\",tabname:\"1\"},{label:\"Log In\",name:\"signin\",type:\"button\",width:\"100%\",placeholder:\"\",required:\"false\",tabname:\"1\"},{label:\"Forgot Password?\",name:\"forgotpassword\",type:\"link\",width:\"50%\",placeholder:\"\",required:\"false\",tabname:\"1\"},{label:\"Sign Up\",name:\"signup\",type:\"link\",width:\"50%\",placeholder:\"\",required:\"false\",tabname:\"1\"},{label:loginIconsHtml,name:\"signup\",type:\"outputhtml\",width:\"100%\",placeholder:\"\",required:\"false\",tabname:\"1\"}];if(action===\"signup\"){var loginIconsSignupHtml=[];var iconarraySignup=[// {\n//   label: \"Label1\",\n//   name: \"facebooksignup\",\n//   iconName: \"facebook\",\n//   iconSource: \"fontaway\",\n// },\n{label:\"Label2\",name:\"googlesignup\",iconName:\"google\",iconSource:\"fontaway\"}// {\n//   label: \"Label2\",\n//   name: \"amazonlogin\",\n//   iconName: \"amazon\",\n//   iconSource: \"fontaway\",\n// },\n];loginIconsSignupHtml.push(/*#__PURE__*/_jsx(Iconbar,{iconarray:iconarraySignup,isHorizontol:\"true\",style:{width:\"\"},iconPadding:\"1vw\",iconClk:this.clkHandler}));var signuppannelbuttonshtml=[];signuppannelbuttonshtml.push(/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr org-fjc-sb org-fai-c\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"org-fr org-fai-c\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.clkHandler({buttonLabel:\"\",buttonName:\"signupcancel\",buttonType:\"\"});},children:\"Cancel\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr org-fjc-e org-fai-c\",children:[\"I want to Register as \\xA0\",/*#__PURE__*/_jsxs(\"select\",{defaultValue:\"learner\",style:{padding:\"5px\"},onChange:function onChange(e){_this2.inputChanged(e,{inputName:\"registeras\"});},children:[/*#__PURE__*/_jsx(\"option\",{value:\"tutor\",children:\"Tutor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"learner\",children:\"Learner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]}),\"\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.clkHandler({buttonLabel:\"\",buttonName:\"signupregister\",buttonType:\"\"});},children:\"Register\"}),loginIconsSignupHtml]})]}));dataprops=[{label:\"Email\",name:\"registeremail\",type:\"inputtext\",width:\"100%\",placeholder:\"\",required:\"true\",tabname:\"1\"},{label:\"Password\",name:\"registerpassword\",type:\"inputpassword\",width:\"100%\",placeholder:\"\",required:\"true\",tabname:\"1\"},{label:\"Confirm Password\",name:\"registerconfirmpassword\",type:\"inputpassword\",width:\"100%\",placeholder:\"\",required:\"true\",tabname:\"1\"},{label:\"First Name\",name:\"registerfirstname\",type:\"inputtext\",width:\"100%\",placeholder:\"\",required:\"true\",tabname:\"1\"},{label:\"Last Name\",name:\"registerlastname\",type:\"inputtext\",width:\"100%\",placeholder:\"\",required:\"false\",tabname:\"1\"},{label:\"Phone\",name:\"registerphone\",type:\"inputtext\",width:\"100%\",placeholder:\"\",required:\"false\",tabname:\"1\"},{label:signuppannelbuttonshtml,name:\"signuppannelbuttons\",type:\"outputhtml\",width:\"100%\",placeholder:\"\",required:\"false\",tabname:\"1\"}];}if(action===\"forgotpassword\"){var forgotpasswordpannelbuttonshtml=[];forgotpasswordpannelbuttonshtml.push(/*#__PURE__*/_jsxs(\"div\",{className:\"org-fr org-fjc-e\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.clkHandler({buttonLabel:\"\",buttonName:\"forgotpasswordcancel\",buttonType:\"\"});},\"data-buttonname\":\"forgotpasswordcancel\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.clkHandler({buttonLabel:\"\",buttonName:\"forgotpasswordsubmit\",buttonType:\"\"});},\"data-name\":\"forgotpasswordsubmit\",children:\"Submit\"})]}));dataprops=[{label:\"Email\",name:\"forgotemail\",type:\"inputtext\",width:\"100%\",placeholder:\"\",required:\"true\",tabname:\"1\"},{label:forgotpasswordpannelbuttonshtml,name:\"forgotpasswordpannelbuttons\",type:\"outputhtml\",width:\"100%\",placeholder:\"\",required:\"true\",tabname:\"1\"}];}}console.log(dataprops);return/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\",height:\"100%\",position:\"relative\"},children:[/*#__PURE__*/_jsx(Nofification,{showNotification:this.state.showNotification,notificationMessages:this.state.notificationMessages}),showSpinner===\"true\"?/*#__PURE__*/_jsx(Spinner,{}):\"\",/*#__PURE__*/_jsx(\"img\",{src:imgLogin,alt:\"img\",style:{width:\"100vw\",height:\"100vh\",objectFit:\"cover\"}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",color:\"\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"eelf mp\",style:{textAlign:\"center\",color:\"black\"},children:/*#__PURE__*/_jsx(\"b\",{children:\"Postpaid Tutors\"})}),isrefreshtoken===\"true\"?/*#__PURE__*/_jsx(\"div\",{children:refreshTokenHtml}):/*#__PURE__*/_jsx(Htmlform,{inputChanged:this.inputChanged,clkHandler:this.clkHandler,inputKeyUp:this.inputKeyUp,dataprops:dataprops,bgcolor:\"\",activeTabName:\"1\"})]})]});}}]);return F;}(Component);export default F;","map":{"version":3,"sources":["/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/src/components/auth/signin.js"],"names":["React","Component","imgLogin","Htmlform","Iconbar","Spinner","Nofification","signin","refreshtoken","signup","resetPassword","signInwithGoogle","getUserProfile","signInwithFacebook","showError","getLocalData","getRecorddata","createRecord","updateRecord","F","props","activateUser","localdata","objectName","objectPrimaryKeyValue","orgname","defaultorgname","id","objectData","isactive","lastupdateduserid","defaultadminuserid","result","isSuccess","signinOnClk","event","validate","setUserNotification","reduxprops","reduxDetails","user","userDetails","type","message","console","log","logInUser","username","state","password","window","location","href","includes","assign","inputChanged","e","inputLabel","inputName","inputType","clientstatename","clientstatetype","inputValue","setState","registerfirstname","registerusername","registerlastname","registeremail","registerpassword","registerconfirmpassword","registerphone","forgotemail","registeras","target","value","inputKeyUp","keyCode","dataset","name","clkHandler","buttonName","loginHandlerAsync","open","setNotification","msg","showNotification","notificationMessages","createUser","email","firstname","lastname","phone","userprofileid","defaultuserprofileid","recorddata","label","createduserid","replace","alert","signinrecorddata","userid","signinresult","setTimeout","getUserfromDatabase","orgemail","d","Date","tokenexpiryTime","parseInt","getTime","dataprops","expiresIn","d2","dataParams","keyConditions","field","expression","filterConditions","pageSize","limit","exclusiveStartKey","showSpinner","dataresult","Items","length","userdataParams","userdataresult","usersignin","sessionStorage","setItem","idToken","refreshToken","userroleid","defaultappname","iserror","inputcompref1","current","inputcompref2","continueSession","getItem","expires_in","access_token","refresh_token","errorArray","isFieldError","push","cancelSession","clear","action","isrefreshtoken","registered","userState","emailVerified","userprofileresult","refreshTokenHtml","loginIconsHtml","iconarray","iconName","iconSource","width","placeholder","required","tabname","loginIconsSignupHtml","iconarraySignup","signuppannelbuttonshtml","buttonLabel","buttonType","padding","forgotpasswordpannelbuttonshtml","height","position","objectFit","color","top","left","transform","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport imgLogin from \"../../images/mountain.jpg\";\nimport Htmlform from \"../htmlformnew\";\nimport Iconbar from \"../iconbar\";\nimport Spinner from \"../spinner\";\nimport Nofification from \"../notification\";\nimport {\n  signin,\n  refreshtoken,\n  signup,\n  resetPassword,\n  signInwithGoogle,\n  getUserProfile,\n  signInwithFacebook,\n} from \"../../auth/index\";\nimport { showError, getLocalData } from \"../../js/index\";\nimport {\n  getRecorddata,\n  createRecord,\n  // bulkcreateRecord,\n  updateRecord,\n} from \"../../db/index\";\n//import { sendMail } from \"../../js/mail\";\n\nclass F extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { showSpinner: \"false\" };\n  }\n\n  async componentDidMount() {\n    let { action, isrefreshtoken } = this.props;\n    console.log(isrefreshtoken);\n    if (action === \"activateuser\") {\n      this.activateUser();\n    }\n  }\n\n  activateUser = async () => {\n    let localdata = getLocalData(this.props);\n\n    let result = await updateRecord({\n      objectName: \"user\",\n      objectPrimaryKeyValue: {\n        orgname: localdata.defaultorgname,\n        id: \"usr-pradeepy\",\n      },\n      objectData: {\n        isactive: \"true\",\n        lastupdateduserid: localdata.defaultadminuserid,\n      },\n    });\n    if (result.isSuccess === \"false\") {\n    }\n  };\n\n  signinOnClk = (event) => {\n    // let isSuccessfulLogin = false;\n    // if (isSuccessfulLogin) {\n    //     this.props.history.push(\"/\");\n    // }\n    // else {\n    //     console.log(this.props);\n    //     this.props.setUserNotification({ \"test\": \"test\" });\n    // }\n    if (this.validate()) {\n      this.props.setUserNotification({\n        id:\n          this.props.reduxprops.reduxDetails.user.userDetails.id + \"compname1\",\n        type: \"error\",\n        message: \"invalid data\",\n      });\n      this.props.setUserNotification({\n        id: this.props.userDetails.user.userDetails.id + \"compname2\",\n        type: \"warning\",\n        message: \"not suitatble\",\n      });\n      this.props.setUserNotification({\n        id: this.props.userDetails.user.userDetails.id + \"compname3\",\n        type: \"information\",\n        message: \"redirecting to home page\",\n      });\n      this.props.setUserNotification({\n        id: this.props.userDetails.user.userDetails.id + \"compname4\",\n        type: \"confirmation\",\n        message: \"are you sure ?\",\n      });\n    } else {\n      // this.props.setUserNotification({ \"id\": this.props.userDetails.user.userDetails.id + \"compname1\", \"type\": \"\", \"message\": \"\" });\n      // this.props.setUserNotification({ \"id\": this.props.userDetails.user.userDetails.id + \"compname2\", \"type\": \"\", \"message\": \"\" });\n      // this.props.setUserNotification({ \"id\": this.props.userDetails.user.userDetails.id + \"compname3\", \"type\": \"\", \"message\": \"\" });\n      // this.props.setUserNotification({ \"id\": this.props.userDetails.user.userDetails.id + \"compname4\", \"type\": \"\", \"message\": \"\" });\n      // this.props.setIsUserAuthenticated({ \"isUserAuthenticated\": \"true\" });\n      console.log(this.props);\n      this.props.reduxprops.logInUser({\n        username: this.state.username,\n        password: this.state.password,\n      });\n\n      // sessionStorage.setItem(\"isUserAuthenticated\", true);\n      //this.props.history.push(\"/\");\n      console.log(window.location);\n      if (window.location.href.includes(\"signin\")) {\n        window.location.assign(\"/\");\n        //this.props.history.push(\"/\");\n      } else {\n        window.location.assign(window.location);\n        // this.props.history.push(window.location.pathname);\n      }\n    }\n  };\n\n  inputChanged = (e, props) => {\n    console.log(props);\n    let {\n      inputLabel,\n      inputName,\n      inputType,\n      clientstatename,\n      clientstatetype,\n      inputValue,\n    } = props;\n    console.log(inputLabel);\n    console.log(inputType);\n    console.log(clientstatename);\n    console.log(clientstatetype);\n    if (inputName === \"username\") {\n      this.setState({ username: inputValue });\n    }\n    if (inputName === \"password\") {\n      this.setState({ password: inputValue });\n    }\n    if (inputName === \"registerfirstname\") {\n      this.setState({ registerfirstname: inputValue });\n    }\n    if (inputName === \"registerusername\") {\n      this.setState({ registerusername: inputValue });\n    }\n    if (inputName === \"registerlastname\") {\n      this.setState({ registerlastname: inputValue });\n    }\n    if (inputName === \"registeremail\") {\n      this.setState({ registeremail: inputValue });\n    }\n    if (inputName === \"registerpassword\") {\n      this.setState({ registerpassword: inputValue });\n    }\n    if (inputName === \"registerconfirmpassword\") {\n      this.setState({ registerconfirmpassword: inputValue });\n    }\n    if (inputName === \"registerphone\") {\n      this.setState({ registerphone: inputValue });\n    }\n    if (inputName === \"forgotemail\") {\n      this.setState({ forgotemail: inputValue });\n    }\n    if (inputName === \"registeras\") {\n      this.setState({ registeras: e.target.value });\n    }\n  };\n\n  inputKeyUp = (e) => {\n    console.log(e.keyCode);\n    console.log(e.target.dataset.name);\n    console.log(e.target.value);\n    if (e.keyCode === 13) {\n      signin({\n        username: this.state.username,\n        password: this.state.password,\n        props: this.props,\n      });\n    }\n  };\n\n  clkHandler = (props) => {\n    let { buttonName } = props;\n    console.log(buttonName);\n    if (buttonName === \"signin\") {\n      console.log(buttonName);\n      this.loginHandlerAsync(\"signin\");\n    }\n    if (buttonName === \"signup\") {\n      console.log(this.props);\n      // this.props.routerprops.history.push(\"/signup\");\n      //  this.setState({ isModalOpen: \"true\" });\n      window.open(\"/signup\", \"_self\");\n    }\n    if (buttonName === \"forgotpassword\") {\n      console.log(this.props);\n      // this.props.routerprops.history.push(\"/forgotpassword\");\n      //  this.setState({ isModalOpen: \"true\" });\n      window.open(\"/forgotpassword\", \"_self\");\n    }\n    if (buttonName === \"signupcancel\") {\n      console.log(this.props);\n      //  this.props.routerprops.history.push(\"/\");\n      window.open(\"/\", \"_self\");\n    }\n    if (buttonName === \"signupregister\") {\n      console.log(this.props);\n      this.loginHandlerAsync(\"signup\");\n      //  this.setState({ isModalOpen: \"false\" });\n      // signup({\n      //   username: this.state.registeremail,\n      //   password: this.state.registerpassword,\n      //   props: this.props,\n      // });\n    }\n\n    if (buttonName === \"forgotpasswordcancel\") {\n      console.log(this.props);\n      //  this.props.routerprops.history.push(\"/\");\n      window.open(\"/\", \"_self\");\n    }\n    if (buttonName === \"forgotpasswordsubmit\") {\n      console.log(this.props);\n      //  this.setState({ isModalOpen: \"false\" });\n      this.loginHandlerAsync(\"forgotpassword\");\n    }\n    if (buttonName === \"facebooklogin\") {\n      this.loginHandlerAsync(\"facebooklogin\");\n    }\n    if (buttonName === \"googlelogin\") {\n      this.loginHandlerAsync(\"googlelogin\");\n    }\n    if (buttonName === \"amazonlogin\") {\n      this.loginHandlerAsync(\"amazonlogin\");\n    }\n    if (buttonName === \"facebooksignup\") {\n      this.loginHandlerAsync(\"facebooksignup\");\n    }\n    if (buttonName === \"googlesignup\") {\n      this.loginHandlerAsync(\"googlesignup\");\n    }\n    if (buttonName === \"amazonsignup\") {\n      this.loginHandlerAsync(\"amazonsignup\");\n    }\n  };\n\n  setNotification = (props) => {\n    let { msg } = props;\n    this.setState(\n      {\n        showNotification: \"false\",\n        notificationMessages: [],\n      },\n\n      () =>\n        this.setState({\n          showNotification: \"true\",\n          notificationMessages: [\n            {\n              name: \"message1\",\n              message: msg,\n              type: \"info\",\n            },\n          ],\n        })\n    );\n  };\n\n  async loginHandlerAsync(action) {\n    console.log(action);\n    console.log(this.state);\n    let result = {};\n    let { username, password, registeras } = this.state;\n    if (action === \"signin\") {\n      if (!username) {\n        showError([\n          { name: \"username\", message: \"please enter valid username\" },\n        ]);\n      } else if (!password) {\n        showError([\n          { name: \"password\", message: \"please enter valid password\" },\n        ]);\n      } else {\n        this.setState({ showSpinner: \"true\" });\n        result = await signin({\n          username: username,\n          password: password,\n          props: this.props,\n        });\n        if (result.isSuccess === \"true\") {\n          this.setState({ showSpinner: \"false\" });\n          if (\n            result.dataprops.registered !== \"true\" &&\n            result.dataprops.registered !== true\n          ) {\n            this.setNotification({\n              msg: \"please click on link in verifacation mail to login \",\n            });\n          } else {\n            let orgemail = result.dataprops.email;\n\n            this.setState({ showSpinner: \"true\" });\n            let props = {\n              orgemail: orgemail,\n              result: result,\n            };\n\n            this.getUserfromDatabase(props);\n          }\n        }\n        if (result.isSuccess === \"false\") {\n          this.setState({ showSpinner: \"false\" });\n          let errorArray = [];\n          let isFieldError = false;\n          if (result.message.includes(\"EMAIL\")) {\n            isFieldError = true;\n            errorArray.push({\n              name: \"username\",\n              message: result.message,\n            });\n          }\n          if (result.message.includes(\"PASSWORD\")) {\n            isFieldError = true;\n            errorArray.push({\n              name: \"password\",\n              message: result.message,\n            });\n          }\n          showError(errorArray);\n          if (isFieldError !== true) {\n            this.setNotification({\n              msg: result.message,\n            });\n          }\n        }\n      }\n    }\n    if (action === \"signup\") {\n      if (!this.state.registeremail) {\n        showError([\n          { name: \"registeremail\", message: \"please enter valid username\" },\n        ]);\n      } else if (!this.state.registerpassword) {\n        showError([\n          { name: \"registerpassword\", message: \"please enter valid password\" },\n        ]);\n      } else if (!this.state.registerconfirmpassword) {\n        showError([\n          {\n            name: \"registerconfirmpassword\",\n            message: \"please enter valid confirm password\",\n          },\n        ]);\n      } else if (\n        this.state.registerconfirmpassword &&\n        this.state.registerconfirmpassword !== this.state.registerpassword\n      ) {\n        showError([\n          {\n            name: \"registerconfirmpassword\",\n            message: \"password not matching\",\n          },\n        ]);\n      } else if (!this.state.registeremail) {\n        showError([\n          { name: \"registeremail\", message: \"please enter valid email\" },\n        ]);\n      } else if (!this.state.registerfirstname) {\n        showError([\n          { name: \"registerfirstname\", message: \"please enter firstname\" },\n        ]);\n      } else {\n        result = await signup({\n          userState: this.state,\n          props: this.props,\n        });\n        console.log(result);\n        if (result.isSuccess === \"false\") {\n          let errorArray = [];\n          let isFieldError = false;\n          if (result.message.includes(\"EMAIL\")) {\n            isFieldError = true;\n            errorArray.push({\n              name: \"registeremail\",\n              message: result.message,\n            });\n          }\n          if (result.message.includes(\"PASSWORD\")) {\n            isFieldError = true;\n            errorArray.push({\n              name: \"registerpassword\",\n              message: result.message,\n            });\n          }\n          showError(errorArray);\n          console.log(isFieldError);\n          if (isFieldError !== true) {\n            this.setNotification({\n              msg: result.message,\n            });\n          }\n        } else {\n          this.createUser({\n            email: this.state.registeremail,\n            firstname: this.state.registerfirstname,\n            lastname: this.state.registerlastname\n              ? this.state.registerlastname\n              : \"\",\n            phone: this.state.registerphone,\n            registeras: registeras,\n          });\n\n          // setTimeout(function () {\n          //   window.location.assign(\"/\");\n          // }, 3000);\n        }\n      }\n    }\n    if (action === \"forgotpassword\") {\n      if (!this.state.forgotemail) {\n        showError([{ name: \"forgotemail\", message: \"please enter email\" }]);\n      } else {\n        result = await resetPassword({\n          userState: this.state,\n          props: this.props,\n        });\n        console.log(result);\n        if (result.isSuccess === \"false\") {\n          let errorArray = [];\n          let isFieldError = false;\n          if (result.message.includes(\"email\")) {\n            isFieldError = true;\n            errorArray.push({\n              name: \"forgotemail\",\n              message: result.message,\n            });\n          }\n          showError(errorArray);\n          console.log(isFieldError);\n          if (isFieldError !== true) {\n            this.setNotification({\n              msg: result.message,\n            });\n          }\n        } else {\n          let errorArray = [];\n          showError(errorArray);\n          this.setNotification({\n            msg: \"Reset Password Email sent\",\n          });\n\n          setTimeout(function () {\n            window.location.assign(\"/\");\n          }, 3000);\n        }\n      }\n    }\n\n    if (action === \"facebooklogin\") {\n      this.setState({ showSpinner: \"true\" });\n      let result = await signInwithFacebook();\n      if (result.isSuccess === \"true\") {\n        this.setState({ showSpinner: \"false\" });\n        let orgemail = result.dataprops.email;\n        let props = {\n          orgemail: orgemail,\n          result: result,\n        };\n        console.log(props);\n        //  this.getUserfromDatabase(props);\n      }\n      if (result.isSuccess === \"false\") {\n        this.setState({ showSpinner: \"false\" });\n        let errorArray = [];\n        let isFieldError = false;\n        if (result.message.includes(\"EMAIL\")) {\n          isFieldError = true;\n          errorArray.push({\n            name: \"username\",\n            message: result.message,\n          });\n        }\n        if (result.message.includes(\"PASSWORD\")) {\n          isFieldError = true;\n          errorArray.push({\n            name: \"password\",\n            message: result.message,\n          });\n        }\n        showError(errorArray);\n        if (isFieldError !== true) {\n          this.setNotification({\n            msg: result.message,\n          });\n        }\n      }\n    }\n    if (action === \"googlelogin\") {\n      this.setState({ showSpinner: \"true\" });\n      let result = await signInwithGoogle();\n      if (result.isSuccess === \"true\") {\n        this.setState({ showSpinner: \"false\" });\n        let orgemail = result.dataprops.email;\n        let props = {\n          orgemail: orgemail,\n          result: result,\n        };\n        console.log(result.dataprops.emailVerified);\n        this.getUserfromDatabase(props);\n      }\n      if (result.isSuccess === \"false\") {\n        this.setState({ showSpinner: \"false\" });\n        let errorArray = [];\n        let isFieldError = false;\n        if (result.message.includes(\"EMAIL\")) {\n          isFieldError = true;\n          errorArray.push({\n            name: \"username\",\n            message: result.message,\n          });\n        }\n        if (result.message.includes(\"PASSWORD\")) {\n          isFieldError = true;\n          errorArray.push({\n            name: \"password\",\n            message: result.message,\n          });\n        }\n        showError(errorArray);\n        if (isFieldError !== true) {\n          this.setNotification({\n            msg: result.message,\n          });\n        }\n      }\n    }\n    if (action === \"googlesignup\") {\n      this.setState({ showSpinner: \"true\" });\n      let result = await signInwithGoogle();\n      if (result.isSuccess === \"true\") {\n        this.setState({ showSpinner: \"false\" });\n        let orgemail = result.dataprops.email;\n        let props = {\n          orgemail: orgemail,\n          result: result,\n        };\n        console.log(props);\n\n        let userprofileresult = await getUserProfile({\n          idToken: result.dataprops.idToken,\n        });\n        if (userprofileresult.isSuccess === \"true\") {\n          this.createUser({\n            email: orgemail,\n            firstname: userprofileresult.dataprops.name,\n\n            lastname: \"\",\n            phone: userprofileresult.dataprops.phone\n              ? userprofileresult.dataprops.phone\n              : \"\",\n            registeras: registeras,\n          });\n        }\n      }\n      if (result.isSuccess === \"false\") {\n        this.setState({ showSpinner: \"false\" });\n        let errorArray = [];\n        let isFieldError = false;\n        if (result.message.includes(\"EMAIL\")) {\n          isFieldError = true;\n          errorArray.push({\n            name: \"username\",\n            message: result.message,\n          });\n        }\n        if (result.message.includes(\"PASSWORD\")) {\n          isFieldError = true;\n          errorArray.push({\n            name: \"password\",\n            message: result.message,\n          });\n        }\n        showError(errorArray);\n        if (isFieldError !== true) {\n          this.setNotification({\n            msg: result.message,\n          });\n        }\n      }\n    }\n    if (action === \"amazonlogin\") {\n    }\n    // sessionStorage.setItem(\"isUserAuthenticated\", \"true\");\n    // if (window.location.href.includes(\"signin\")) {\n    //   window.location.assign(\"/\");\n    // } else {\n    //   window.location.assign(window.location);\n    // }\n\n    return result;\n  }\n  createUser = async (props) => {\n    let localdata = getLocalData(this.props);\n\n    let { email, firstname, lastname, phone, registeras } = props;\n    let id = \"usr-\" + lastname + firstname;\n    let userprofileid = registeras\n      ? registeras\n      : localdata.defaultuserprofileid;\n    let recorddata = {\n      label: lastname + \" \" + firstname,\n      isactive: \"true\",\n      createduserid: localdata.defaultadminuserid,\n      lastupdateduserid: localdata.defaultadminuserid,\n      orgname: localdata.defaultorgname,\n      id: id.replace(\" \", \"\"),\n      email: email,\n      firstname: firstname,\n      lastname: lastname,\n      phone: phone,\n      userprofileid: userprofileid,\n    };\n    alert(userprofileid);\n\n    let result = await createRecord({\n      objectName: \"user\",\n      objectData: recorddata,\n    });\n    if (result.isSuccess === \"false\") {\n      alert(result.message);\n    } else {\n      let signinrecorddata = {\n        label: lastname + firstname,\n        isactive: \"true\",\n        createduserid: localdata.defaultadminuserid,\n        lastupdateduserid: localdata.defaultadminuserid,\n        orgname: localdata.defaultorgname,\n        id: email,\n        userid: id.replace(\" \", \"\"),\n      };\n\n      let signinresult = await createRecord({\n        objectName: \"usersignin\",\n        objectData: signinrecorddata,\n      });\n      if (signinresult.isSuccess === \"false\") {\n        alert(result.message);\n      } else {\n        this.setNotification({\n          msg: \"User is created, please signin\",\n        });\n        setTimeout(function () {\n          window.location.assign(\"/\");\n        }, 3000);\n      }\n    }\n  };\n\n  getUserfromDatabase = async (props) => {\n    let { orgemail, result } = props;\n    var d = new Date();\n    var tokenexpiryTime =\n      parseInt(d.getTime()) + parseInt(result.dataprops.expiresIn) * 1000;\n    let d2 = new Date(parseInt(tokenexpiryTime));\n    console.log(d2);\n    let dataParams = {\n      objectName: \"usersignin\",\n      objectData: {},\n      keyConditions: [\n        {\n          field: \"orgname\",\n          value: \"postpaidtutors\",\n          expression: \"=\",\n        },\n        {\n          field: \"id\",\n          value: orgemail,\n          expression: \"=\",\n        },\n      ],\n      filterConditions: [],\n      pageSize: \"\",\n      limit: \"\",\n      exclusiveStartKey: \"\",\n    };\n    this.setState({ showSpinner: \"true\" });\n    let dataresult = await getRecorddata(dataParams);\n    if (dataresult.isSuccess === \"false\") {\n      this.setState({ showSpinner: \"false\" });\n      alert(\"data\" + dataresult.message);\n    } else {\n      this.setState({ showSpinner: \"false\" });\n      if (dataresult.dataprops.Items.length > 0) {\n        let userdataParams = {\n          objectName: \"user\",\n          objectData: {},\n          keyConditions: [\n            {\n              field: \"orgname\",\n              value: \"postpaidtutors\",\n              expression: \"=\",\n            },\n            {\n              field: \"id\",\n              value: dataresult.dataprops.Items[0].userid,\n              expression: \"=\",\n            },\n          ],\n          filterConditions: [],\n          pageSize: \"\",\n          limit: \"\",\n          exclusiveStartKey: \"\",\n        };\n        this.setState({ showSpinner: \"true\" });\n        let userdataresult = await getRecorddata(userdataParams);\n        if (userdataresult.isSuccess === \"false\") {\n          this.setState({ showSpinner: \"false\" });\n          alert(\"data\" + userdataresult.message);\n        } else {\n          this.setState({ showSpinner: \"false\" });\n          console.log(userdataresult.dataprops.Items);\n          if (userdataresult.dataprops.Items.length > 0) {\n            let usersignin = userdataresult.dataprops.Items[0];\n            await sessionStorage.setItem(\"orgemail\", orgemail);\n            await sessionStorage.setItem(\"orgexpiresAt\", tokenexpiryTime);\n            await sessionStorage.setItem(\n              \"orgidToken\",\n              result.dataprops.idToken\n            );\n            await sessionStorage.setItem(\n              \"orgrefreshToken\",\n              result.dataprops.refreshToken\n            );\n\n            await sessionStorage.setItem(\"orgname\", usersignin.orgname);\n            await sessionStorage.setItem(\"userid\", usersignin.id);\n            await sessionStorage.setItem(\n              \"userprofileid\",\n              usersignin.userprofileid\n            );\n            await sessionStorage.setItem(\"userroleid\", usersignin.userroleid);\n            await sessionStorage.setItem(\"appname\", usersignin.defaultappname);\n            window.location.assign(window.location);\n          } else {\n            this.setNotification({\n              msg: \"Please Signup and Login\",\n            });\n\n            setTimeout(function () {\n              window.location.assign(\"/signup\");\n            }, 5000);\n          }\n        }\n      } else {\n        this.setNotification({\n          msg: \"Please Signup and Login\",\n        });\n        setTimeout(function () {\n          window.location.assign(\"/signup\");\n        }, 5000);\n      }\n    }\n  };\n\n  validate = (e) => {\n    let iserror = false;\n    this.inputcompref1.current.validate();\n    this.inputcompref2.current.validate();\n    iserror =\n      this.inputcompref1.current.validate() ||\n      this.inputcompref2.current.validate();\n    return iserror;\n  };\n\n  continueSession = async () => {\n    let result = await refreshtoken({\n      refreshtoken: sessionStorage.getItem(\"orgrefreshToken\"),\n    });\n    if (result.isSuccess === \"true\") {\n      var d = new Date();\n      var tokenexpiryTime =\n        parseInt(d.getTime()) + parseInt(result.dataprops.expires_in) * 1000;\n      let d2 = new Date(parseInt(tokenexpiryTime));\n      console.log(d2);\n      await sessionStorage.setItem(\"orgemail\", result.dataprops.email);\n      // await sessionStorage.setItem(\"orguserid\", result.dataprops.user_id);\n      await sessionStorage.setItem(\"orgexpiresAt\", tokenexpiryTime);\n      await sessionStorage.setItem(\"orgidToken\", result.dataprops.access_token);\n      await sessionStorage.setItem(\n        \"orgrefreshToken\",\n        result.dataprops.refresh_token\n      );\n\n      // window.location.assign(window.location);\n    }\n    if (result.isSuccess === \"false\") {\n      let errorArray = [];\n      let isFieldError = false;\n      if (result.message.includes(\"EMAIL\")) {\n        isFieldError = true;\n        errorArray.push({\n          name: \"username\",\n          message: result.message,\n        });\n      }\n      if (result.message.includes(\"PASSWORD\")) {\n        isFieldError = true;\n        errorArray.push({\n          name: \"password\",\n          message: result.message,\n        });\n      }\n      showError(errorArray);\n      console.log(isFieldError);\n      if (isFieldError !== true) {\n        this.setNotification({ msg: result.message });\n      }\n    }\n\n    if (window.location.href.includes(\"signin\")) {\n      window.location.assign(\"/\");\n    } else {\n      window.location.assign(window.location);\n    }\n  };\n\n  cancelSession = () => {\n    sessionStorage.clear();\n    window.location.assign(window.location);\n  };\n\n  render() {\n    console.log(this.state);\n    let dataprops = {};\n    let { showSpinner } = this.state;\n    let { action, isrefreshtoken } = this.props;\n\n    let refreshTokenHtml = [];\n    if (isrefreshtoken === true || isrefreshtoken === \"true\") {\n      refreshTokenHtml.push(\n        <div>\n          Session Loggin out Click on Ok to continue session, cancel to logout\n        </div>\n      );\n      refreshTokenHtml.push(\n        <div>\n          <button onClick={this.continueSession}>Continue Session</button>\n          <button onClick={this.cancelSession}>Logout</button>\n        </div>\n      );\n    }\n\n    if (action === \"activateuser\") {\n    } else {\n      let loginIconsHtml = [];\n\n      let iconarray = [\n        // {\n        //   label: \"Label1\",\n        //   name: \"facebooklogin\",\n        //   iconName: \"facebook\",\n        //   iconSource: \"fontaway\",\n        // },\n        {\n          label: \"Label2\",\n          name: \"googlelogin\",\n          iconName: \"google\",\n          iconSource: \"fontaway\",\n        },\n        // {\n        //   label: \"Label2\",\n        //   name: \"amazonlogin\",\n        //   iconName: \"amazon\",\n        //   iconSource: \"fontaway\",\n        // },\n      ];\n      loginIconsHtml.push(\n        <Iconbar\n          iconarray={iconarray}\n          isHorizontol=\"true\"\n          style={{ width: \"\" }}\n          iconPadding=\"1vw\"\n          iconClk={this.clkHandler}\n        />\n      );\n\n      dataprops = [\n        {\n          label: \"User Name\",\n          name: \"username\",\n          type: \"inputtext\",\n          width: \"100%\",\n          placeholder: \"\",\n          required: \"true\",\n          tabname: \"1\",\n        },\n        {\n          label: \"Password\",\n          name: \"password\",\n          type: \"inputpassword\",\n          width: \"100%\",\n          placeholder: \"\",\n          required: \"true\",\n          tabname: \"1\",\n        },\n        {\n          label: \"Log In\",\n          name: \"signin\",\n          type: \"button\",\n          width: \"100%\",\n          placeholder: \"\",\n          required: \"false\",\n          tabname: \"1\",\n        },\n\n        {\n          label: \"Forgot Password?\",\n          name: \"forgotpassword\",\n          type: \"link\",\n          width: \"50%\",\n          placeholder: \"\",\n          required: \"false\",\n          tabname: \"1\",\n        },\n        {\n          label: \"Sign Up\",\n          name: \"signup\",\n          type: \"link\",\n          width: \"50%\",\n          placeholder: \"\",\n          required: \"false\",\n          tabname: \"1\",\n        },\n        {\n          label: loginIconsHtml,\n          name: \"signup\",\n          type: \"outputhtml\",\n          width: \"100%\",\n          placeholder: \"\",\n          required: \"false\",\n          tabname: \"1\",\n        },\n      ];\n      if (action === \"signup\") {\n        let loginIconsSignupHtml = [];\n\n        let iconarraySignup = [\n          // {\n          //   label: \"Label1\",\n          //   name: \"facebooksignup\",\n          //   iconName: \"facebook\",\n          //   iconSource: \"fontaway\",\n          // },\n          {\n            label: \"Label2\",\n            name: \"googlesignup\",\n            iconName: \"google\",\n            iconSource: \"fontaway\",\n          },\n          // {\n          //   label: \"Label2\",\n          //   name: \"amazonlogin\",\n          //   iconName: \"amazon\",\n          //   iconSource: \"fontaway\",\n          // },\n        ];\n        loginIconsSignupHtml.push(\n          <Iconbar\n            iconarray={iconarraySignup}\n            isHorizontol=\"true\"\n            style={{ width: \"\" }}\n            iconPadding=\"1vw\"\n            iconClk={this.clkHandler}\n          />\n        );\n        let signuppannelbuttonshtml = [];\n        signuppannelbuttonshtml.push(\n          <div className=\"org-fr org-fjc-sb org-fai-c\">\n            <div className=\"org-fr org-fai-c\">\n              <button\n                onClick={() =>\n                  this.clkHandler({\n                    buttonLabel: \"\",\n                    buttonName: \"signupcancel\",\n                    buttonType: \"\",\n                  })\n                }\n              >\n                Cancel\n              </button>\n            </div>\n            <div className=\"org-fr org-fjc-e org-fai-c\">\n              I want to Register as &nbsp;\n              <select\n                defaultValue=\"learner\"\n                style={{ padding: \"5px\" }}\n                onChange={(e) => {\n                  this.inputChanged(e, { inputName: \"registeras\" });\n                }}\n              >\n                <option value=\"tutor\">Tutor</option>\n                <option value=\"learner\">Learner</option>\n                <option value=\"admin\">Admin</option>\n              </select>\n              &nbsp;\n              <button\n                onClick={() =>\n                  this.clkHandler({\n                    buttonLabel: \"\",\n                    buttonName: \"signupregister\",\n                    buttonType: \"\",\n                  })\n                }\n              >\n                Register\n              </button>\n              {loginIconsSignupHtml}\n            </div>\n          </div>\n        );\n        dataprops = [\n          {\n            label: \"Email\",\n            name: \"registeremail\",\n            type: \"inputtext\",\n            width: \"100%\",\n            placeholder: \"\",\n            required: \"true\",\n            tabname: \"1\",\n          },\n          {\n            label: \"Password\",\n            name: \"registerpassword\",\n            type: \"inputpassword\",\n            width: \"100%\",\n            placeholder: \"\",\n            required: \"true\",\n            tabname: \"1\",\n          },\n          {\n            label: \"Confirm Password\",\n            name: \"registerconfirmpassword\",\n            type: \"inputpassword\",\n            width: \"100%\",\n            placeholder: \"\",\n            required: \"true\",\n            tabname: \"1\",\n          },\n          {\n            label: \"First Name\",\n            name: \"registerfirstname\",\n            type: \"inputtext\",\n            width: \"100%\",\n            placeholder: \"\",\n            required: \"true\",\n            tabname: \"1\",\n          },\n          {\n            label: \"Last Name\",\n            name: \"registerlastname\",\n            type: \"inputtext\",\n            width: \"100%\",\n            placeholder: \"\",\n            required: \"false\",\n            tabname: \"1\",\n          },\n          {\n            label: \"Phone\",\n            name: \"registerphone\",\n            type: \"inputtext\",\n            width: \"100%\",\n            placeholder: \"\",\n            required: \"false\",\n            tabname: \"1\",\n          },\n\n          {\n            label: signuppannelbuttonshtml,\n            name: \"signuppannelbuttons\",\n            type: \"outputhtml\",\n            width: \"100%\",\n            placeholder: \"\",\n            required: \"false\",\n            tabname: \"1\",\n          },\n        ];\n      }\n      if (action === \"forgotpassword\") {\n        let forgotpasswordpannelbuttonshtml = [];\n        forgotpasswordpannelbuttonshtml.push(\n          <div className=\"org-fr org-fjc-e\">\n            <button\n              onClick={() =>\n                this.clkHandler({\n                  buttonLabel: \"\",\n                  buttonName: \"forgotpasswordcancel\",\n                  buttonType: \"\",\n                })\n              }\n              data-buttonname=\"forgotpasswordcancel\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={() =>\n                this.clkHandler({\n                  buttonLabel: \"\",\n                  buttonName: \"forgotpasswordsubmit\",\n                  buttonType: \"\",\n                })\n              }\n              data-name=\"forgotpasswordsubmit\"\n            >\n              Submit\n            </button>\n          </div>\n        );\n        dataprops = [\n          {\n            label: \"Email\",\n            name: \"forgotemail\",\n            type: \"inputtext\",\n            width: \"100%\",\n            placeholder: \"\",\n            required: \"true\",\n            tabname: \"1\",\n          },\n\n          {\n            label: forgotpasswordpannelbuttonshtml,\n            name: \"forgotpasswordpannelbuttons\",\n            type: \"outputhtml\",\n            width: \"100%\",\n            placeholder: \"\",\n            required: \"true\",\n            tabname: \"1\",\n          },\n        ];\n      }\n    }\n\n    console.log(dataprops);\n    return (\n      <div style={{ width: \"100%\", height: \"100%\", position: \"relative\" }}>\n        <Nofification\n          showNotification={this.state.showNotification}\n          notificationMessages={this.state.notificationMessages}\n        />\n        {showSpinner === \"true\" ? <Spinner /> : \"\"}\n        <img\n          src={imgLogin}\n          alt=\"img\"\n          style={{ width: \"100vw\", height: \"100vh\", objectFit: \"cover\" }}\n        />\n        <div\n          style={{\n            position: \"absolute\",\n            color: \"\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: \"translate(-50%, -50%)\",\n          }}\n        >\n          <div\n            className=\"eelf mp\"\n            style={{ textAlign: \"center\", color: \"black\" }}\n          >\n            <b>Postpaid Tutors</b>\n          </div>\n\n          {isrefreshtoken === \"true\" ? (\n            <div>{refreshTokenHtml}</div>\n          ) : (\n            <Htmlform\n              inputChanged={this.inputChanged}\n              clkHandler={this.clkHandler}\n              inputKeyUp={this.inputKeyUp}\n              dataprops={dataprops}\n              bgcolor=\"\"\n              activeTabName=\"1\"\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default F;\n"]},"metadata":{},"sourceType":"module"}