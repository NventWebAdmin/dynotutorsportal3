{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{getRecorddata,createRecord,bulkcreateRecord}from\"../db/index\";import{sortArray,fieldTypeHtmltoDBmapping}from\"../js/index\";import{getLocalData,serverButtonHandler}from\"../js/index\";import Rteditor from\"./richtexteditor\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var F=/*#__PURE__*/function(_Component){_inherits(F,_Component);var _super=_createSuper(F);function F(props){var _this;_classCallCheck(this,F);_this=_super.call(this,props);_this.handleSave=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var localdata,orgname,userid,recorddata,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:localdata=getLocalData(_this.props);console.log(localdata);orgname=localdata.orgname,userid=localdata.userid;alert(document.getElementById(\"utilitynoteeditablediv\").innerHTML);recorddata={orgname:orgname,userid:userid,data:document.getElementById(\"utilitynoteeditablediv\").innerHTML};_context.next=7;return createRecord({objectName:\"note\",objectData:recorddata});case 7:result=_context.sent;if(result.isSuccess===\"false\"){alert(result.message);}else{console.log(recorddata);}case 9:case\"end\":return _context.stop();}}},_callee);}));_this.state={};return _this;}_createClass(F,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$props$compprops,orgname,userprofileid,userid,tablename,datadisplaytype,viewname;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(this.props);_this$props$compprops=this.props.compprops,orgname=_this$props$compprops.orgname,userprofileid=_this$props$compprops.userprofileid,userid=_this$props$compprops.userid,tablename=_this$props$compprops.tablename,datadisplaytype=_this$props$compprops.datadisplaytype,viewname=_this$props$compprops.viewname;if(viewname==null){viewname=\"recentlyviewed\";}this.getRecordListMetadataAndDatafromServer({orgname:orgname,userProfileId:userprofileid,userId:userid,tableName:tablename,datasortparambeginswith:\"\",datasortparamequalsto:\"\",action:\"\",viewName:viewname,datadisplaytype:datadisplaytype});case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"getRecordListMetadataAndDatafromServer\",value:function(){var _getRecordListMetadataAndDatafromServer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(props){var orgname,userProfileId,userId,tableName,datasortparambeginswith,datasortparamequalsto,action,viewName,datadisplaytype,mainPanelHtmlObj,dataParams,dataresult,notedata;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:orgname=props.orgname,userProfileId=props.userProfileId,userId=props.userId,tableName=props.tableName,datasortparambeginswith=props.datasortparambeginswith,datasortparamequalsto=props.datasortparamequalsto,action=props.action,viewName=props.viewName,datadisplaytype=props.datadisplaytype;mainPanelHtmlObj=this.state.mainPanelHtmlObj;dataParams={objectName:tableName,objectData:{},keyConditions:[{field:\"orgname\",value:orgname,expression:\"=\"},{field:\"userid\",value:userId,expression:\"=\"}],filterConditions:[],pageSize:\"\",limit:\"\",exclusiveStartKey:\"\"};_context3.next=5;return getRecorddata(dataParams);case 5:dataresult=_context3.sent;if(dataresult.isSuccess===\"false\"){alert(\"data\"+dataresult.message);}else{console.log(dataresult.dataprops.Items);if(dataresult.dataprops.Items.length>0){notedata=dataresult.dataprops.Items[0].data;console.log(notedata);document.getElementById(\"utilitynoteeditablediv\").innerHTML=notedata;}}case 7:case\"end\":return _context3.stop();}}},_callee3,this);}));function getRecordListMetadataAndDatafromServer(_x){return _getRecordListMetadataAndDatafromServer.apply(this,arguments);}return getRecordListMetadataAndDatafromServer;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",height:\"50vh\",backgroundColor:\"#FFFACD\",color:\"black\"},contenteditable:\"true\",id:\"utilitynoteeditablediv\"}),/*#__PURE__*/_jsx(Rteditor,{htmlid:\"utilitynoteeditablediv\"}),/*#__PURE__*/_jsx(\"button\",{contenteditable:\"true\",onClick:this.handleSave,children:\"Save\"})]});}}]);return F;}(Component);export default F;","map":{"version":3,"sources":["/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/src/components/note.js"],"names":["React","Component","getRecorddata","createRecord","bulkcreateRecord","sortArray","fieldTypeHtmltoDBmapping","getLocalData","serverButtonHandler","Rteditor","F","props","handleSave","localdata","console","log","orgname","userid","alert","document","getElementById","innerHTML","recorddata","data","objectName","objectData","result","isSuccess","message","state","compprops","userprofileid","tablename","datadisplaytype","viewname","getRecordListMetadataAndDatafromServer","userProfileId","userId","tableName","datasortparambeginswith","datasortparamequalsto","action","viewName","mainPanelHtmlObj","dataParams","keyConditions","field","value","expression","filterConditions","pageSize","limit","exclusiveStartKey","dataresult","dataprops","Items","length","notedata","width","height","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { getRecorddata, createRecord, bulkcreateRecord } from \"../db/index\";\nimport { sortArray, fieldTypeHtmltoDBmapping } from \"../js/index\";\nimport { getLocalData, serverButtonHandler } from \"../js/index\";\nimport Rteditor from \"./richtexteditor\";\n\nclass F extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  async componentDidMount() {\n    console.log(this.props);\n    let {\n      orgname,\n      userprofileid,\n      userid,\n      tablename,\n      datadisplaytype,\n      viewname,\n    } = this.props.compprops;\n    if (viewname == null) {\n      viewname = \"recentlyviewed\";\n    }\n    this.getRecordListMetadataAndDatafromServer({\n      orgname: orgname,\n      userProfileId: userprofileid,\n      userId: userid,\n      tableName: tablename,\n      datasortparambeginswith: \"\",\n      datasortparamequalsto: \"\",\n      action: \"\",\n      viewName: viewname,\n      datadisplaytype: datadisplaytype,\n    });\n  }\n\n  async getRecordListMetadataAndDatafromServer(props) {\n    let {\n      orgname,\n      userProfileId,\n      userId,\n      tableName,\n      datasortparambeginswith,\n      datasortparamequalsto,\n      action,\n      viewName,\n      datadisplaytype,\n    } = props;\n    let { mainPanelHtmlObj } = this.state;\n\n    let dataParams = {\n      objectName: tableName,\n      objectData: {},\n      keyConditions: [\n        {\n          field: \"orgname\",\n          value: orgname,\n          expression: \"=\",\n        },\n        {\n          field: \"userid\",\n          value: userId,\n          expression: \"=\",\n        },\n      ],\n      filterConditions: [],\n      pageSize: \"\",\n      limit: \"\",\n      exclusiveStartKey: \"\",\n    };\n    let dataresult = await getRecorddata(dataParams);\n    if (dataresult.isSuccess === \"false\") {\n      alert(\"data\" + dataresult.message);\n    } else {\n      console.log(dataresult.dataprops.Items);\n      if (dataresult.dataprops.Items.length > 0) {\n        let notedata = dataresult.dataprops.Items[0].data;\n        console.log(notedata);\n        document.getElementById(\"utilitynoteeditablediv\").innerHTML = notedata;\n      }\n    }\n  }\n\n  handleSave = async () => {\n    let localdata = getLocalData(this.props);\n    console.log(localdata);\n    let { orgname, userid } = localdata;\n\n    alert(document.getElementById(\"utilitynoteeditablediv\").innerHTML);\n    let recorddata = {\n      orgname: orgname,\n      userid: userid,\n      data: document.getElementById(\"utilitynoteeditablediv\").innerHTML,\n    };\n    let result = await createRecord({\n      objectName: \"note\",\n      objectData: recorddata,\n    });\n    if (result.isSuccess === \"false\") {\n      alert(result.message);\n    } else {\n      console.log(recorddata);\n    }\n  };\n\n  render() {\n    return (\n      <>\n        {/* <textarea\n        style={{\n          width: \"100%\",\n          height: \"50vh\",\n\n          backgroundColor: \"#FFFACD\",\n          color: \"black\",\n        }}\n        onBlur={this.handleSave}\n      >\n        test\n      </textarea> */}\n        <div\n          style={{\n            width: \"100%\",\n            height: \"50vh\",\n            backgroundColor: \"#FFFACD\",\n            color: \"black\",\n          }}\n          contenteditable=\"true\"\n          id=\"utilitynoteeditablediv\"\n        ></div>\n        <Rteditor htmlid=\"utilitynoteeditablediv\" />\n        <button contenteditable=\"true\" onClick={this.handleSave}>\n          Save\n        </button>\n      </>\n    );\n  }\n}\n\nexport default F;\n"]},"metadata":{},"sourceType":"module"}