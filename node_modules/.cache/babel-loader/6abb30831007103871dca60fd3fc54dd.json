{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{getRecorddata,createRecord,bulkcreateRecord}from\"../db/index\";import{getLocalData,serverButtonHandler}from\"../js/index\";/*\ncompprops:{ metadata: {\n        label: \"Calender\",\n        objectname: \"lessonevent\",\n        parentfield: \"lessonid\",\n        idbeginswith: \"le\",\n        fields: {\n          id: { label: \"Id\", name: \"id\" },\n          lessonid: { label: \"Lesson Id\", name: \"lessonid\" },\n        },\n      },\n    }\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var F=/*#__PURE__*/function(_Component){_inherits(F,_Component);var _super=_createSuper(F);function F(props){var _this;_classCallCheck(this,F);_this=_super.call(this,props);_this.state={recordDataList:[]};return _this;}_createClass(F,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var localdata,metadata,dataParams,dataresult,recordDataList;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:localdata=getLocalData(this.props);console.log(localdata);metadata=this.props.compprops.metadata;dataParams={objectName:metadata.objectname,objectData:{},keyConditions:[{field:\"orgname\",value:localdata.orgname,expression:\"=\"},{field:\"id\",value:metadata.idbeginswith,expression:\"beginswith\"}],filterConditions:[{field:metadata.parentfield,value:localdata.recordid,expression:\"=\"}],pageSize:\"\",limit:\"\",exclusiveStartKey:\"\"};console.log(dataParams);_context.next=7;return getRecorddata(dataParams);case 7:dataresult=_context.sent;if(dataresult.isSuccess===\"false\"){alert(\"data\"+dataresult.message);}else{recordDataList=dataresult.dataprops.Items;console.log(recordDataList);this.setState({recordDataList:recordDataList});}case 9:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var recordDataList=this.state.recordDataList;var metadata=this.props.compprops.metadata;var fields=metadata.fields;console.log(fields);var tableHtml=[];var trHtml=[];for(var j in fields){trHtml.push(/*#__PURE__*/_jsx(\"th\",{children:fields[j].label}));}for(var i=0;i<recordDataList.length;i++){var tdHtml=[];for(var _j in fields){tdHtml.push(/*#__PURE__*/_jsx(\"td\",{children:recordDataList[i][_j]}));}trHtml.push(/*#__PURE__*/_jsx(\"tr\",{children:tdHtml}));}tableHtml.push(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:metadata.label}),/*#__PURE__*/_jsx(\"table\",{children:trHtml})]}));return/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",tableHtml,\" \"]});}}]);return F;}(Component);export default F;","map":{"version":3,"sources":["/Users/pradeep/Downloads/twilioudemy1/nventwebgithub/dynotutorsportal3/src/components/recorddatarelatedlist2.js"],"names":["React","Component","getRecorddata","createRecord","bulkcreateRecord","getLocalData","serverButtonHandler","F","props","state","recordDataList","localdata","console","log","metadata","compprops","dataParams","objectName","objectname","objectData","keyConditions","field","value","orgname","expression","idbeginswith","filterConditions","parentfield","recordid","pageSize","limit","exclusiveStartKey","dataresult","isSuccess","alert","message","dataprops","Items","setState","fields","tableHtml","trHtml","j","push","label","i","length","tdHtml"],"mappings":"2lCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,aAAT,CAAwBC,YAAxB,CAAsCC,gBAAtC,KAA8D,aAA9D,CACA,OAASC,YAAT,CAAuBC,mBAAvB,KAAkD,aAAlD,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E,gJAEMC,CAAAA,C,sFACJ,WAAYC,KAAZ,CAAmB,mCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,cAAc,CAAE,EAAlB,CAAb,CAFiB,aAGlB,C,yIAED,+LACMC,SADN,CACkBN,YAAY,CAAC,KAAKG,KAAN,CAD9B,CAEEI,OAAO,CAACC,GAAR,CAAYF,SAAZ,EACMG,QAHR,CAGqB,KAAKN,KAAL,CAAWO,SAHhC,CAGQD,QAHR,CAKME,UALN,CAKmB,CACfC,UAAU,CAAEH,QAAQ,CAACI,UADN,CAEfC,UAAU,CAAE,EAFG,CAGfC,aAAa,CAAE,CACb,CACEC,KAAK,CAAE,SADT,CAEEC,KAAK,CAAEX,SAAS,CAACY,OAFnB,CAGEC,UAAU,CAAE,GAHd,CADa,CAMb,CACEH,KAAK,CAAE,IADT,CAEEC,KAAK,CAAER,QAAQ,CAACW,YAFlB,CAGED,UAAU,CAAE,YAHd,CANa,CAHA,CAefE,gBAAgB,CAAE,CAChB,CACEL,KAAK,CAAEP,QAAQ,CAACa,WADlB,CAEEL,KAAK,CAAEX,SAAS,CAACiB,QAFnB,CAGEJ,UAAU,CAAE,GAHd,CADgB,CAfH,CAsBfK,QAAQ,CAAE,EAtBK,CAuBfC,KAAK,CAAE,EAvBQ,CAwBfC,iBAAiB,CAAE,EAxBJ,CALnB,CA+BEnB,OAAO,CAACC,GAAR,CAAYG,UAAZ,EA/BF,sBAgCyBd,CAAAA,aAAa,CAACc,UAAD,CAhCtC,QAgCMgB,UAhCN,eAiCE,GAAIA,UAAU,CAACC,SAAX,GAAyB,OAA7B,CAAsC,CACpCC,KAAK,CAAC,OAASF,UAAU,CAACG,OAArB,CAAL,CACD,CAFD,IAEO,CACDzB,cADC,CACgBsB,UAAU,CAACI,SAAX,CAAqBC,KADrC,CAELzB,OAAO,CAACC,GAAR,CAAYH,cAAZ,EACA,KAAK4B,QAAL,CAAc,CAAE5B,cAAc,CAAEA,cAAlB,CAAd,EACD,CAvCH,2D,mIAyCA,iBAAS,CACP,GAAMA,CAAAA,cAAN,CAAyB,KAAKD,KAA9B,CAAMC,cAAN,CACA,GAAMI,CAAAA,QAAN,CAAmB,KAAKN,KAAL,CAAWO,SAA9B,CAAMD,QAAN,CACA,GAAIyB,CAAAA,MAAM,CAAGzB,QAAQ,CAACyB,MAAtB,CACA3B,OAAO,CAACC,GAAR,CAAY0B,MAAZ,EACA,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIC,CAAAA,MAAM,CAAG,EAAb,CACA,IAAK,GAAIC,CAAAA,CAAT,GAAcH,CAAAA,MAAd,CAAsB,CACpBE,MAAM,CAACE,IAAP,cAAY,oBAAKJ,MAAM,CAACG,CAAD,CAAN,CAAUE,KAAf,EAAZ,EACD,CACD,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGnC,cAAc,CAACoC,MAAnC,CAA2CD,CAAC,EAA5C,CAAgD,CAC9C,GAAIE,CAAAA,MAAM,CAAG,EAAb,CACA,IAAK,GAAIL,CAAAA,EAAT,GAAcH,CAAAA,MAAd,CAAsB,CACpBQ,MAAM,CAACJ,IAAP,cAAY,oBAAKjC,cAAc,CAACmC,CAAD,CAAd,CAAkBH,EAAlB,CAAL,EAAZ,EACD,CACDD,MAAM,CAACE,IAAP,cAAY,oBAAKI,MAAL,EAAZ,EACD,CACDP,SAAS,CAACG,IAAV,cACE,oCACE,qBAAM7B,QAAQ,CAAC8B,KAAf,EADF,cAEE,uBAAQH,MAAR,EAFF,GADF,EAMA,mBAAO,+BAAID,SAAJ,OAAP,CACD,C,eAvEavC,S,EA0EhB,cAAeM,CAAAA,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { getRecorddata, createRecord, bulkcreateRecord } from \"../db/index\";\nimport { getLocalData, serverButtonHandler } from \"../js/index\";\n\n/*\ncompprops:{ metadata: {\n        label: \"Calender\",\n        objectname: \"lessonevent\",\n        parentfield: \"lessonid\",\n        idbeginswith: \"le\",\n        fields: {\n          id: { label: \"Id\", name: \"id\" },\n          lessonid: { label: \"Lesson Id\", name: \"lessonid\" },\n        },\n      },\n    }\n*/\n\nclass F extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { recordDataList: [] };\n  }\n\n  async componentDidMount() {\n    let localdata = getLocalData(this.props);\n    console.log(localdata);\n    let { metadata } = this.props.compprops;\n\n    let dataParams = {\n      objectName: metadata.objectname,\n      objectData: {},\n      keyConditions: [\n        {\n          field: \"orgname\",\n          value: localdata.orgname,\n          expression: \"=\",\n        },\n        {\n          field: \"id\",\n          value: metadata.idbeginswith,\n          expression: \"beginswith\",\n        },\n      ],\n      filterConditions: [\n        {\n          field: metadata.parentfield,\n          value: localdata.recordid,\n          expression: \"=\",\n        },\n      ],\n      pageSize: \"\",\n      limit: \"\",\n      exclusiveStartKey: \"\",\n    };\n    console.log(dataParams);\n    let dataresult = await getRecorddata(dataParams);\n    if (dataresult.isSuccess === \"false\") {\n      alert(\"data\" + dataresult.message);\n    } else {\n      let recordDataList = dataresult.dataprops.Items;\n      console.log(recordDataList);\n      this.setState({ recordDataList: recordDataList });\n    }\n  }\n  render() {\n    let { recordDataList } = this.state;\n    let { metadata } = this.props.compprops;\n    let fields = metadata.fields;\n    console.log(fields);\n    let tableHtml = [];\n    let trHtml = [];\n    for (let j in fields) {\n      trHtml.push(<th>{fields[j].label}</th>);\n    }\n    for (let i = 0; i < recordDataList.length; i++) {\n      let tdHtml = [];\n      for (let j in fields) {\n        tdHtml.push(<td>{recordDataList[i][j]}</td>);\n      }\n      trHtml.push(<tr>{tdHtml}</tr>);\n    }\n    tableHtml.push(\n      <div>\n        <div>{metadata.label}</div>\n        <table>{trHtml}</table>\n      </div>\n    );\n    return <> {tableHtml} </>;\n  }\n}\n\nexport default F;\n"]},"metadata":{},"sourceType":"module"}